"use strict";(self.webpackChunkendless_starterkit=self.webpackChunkendless_starterkit||[]).push([[576],{2756:(B,I,s)=>{s.d(I,{v:()=>Q});var e=s(70655),i=s(93075),A=s(72308),t=s(5e3),q=s(64383),f=s(21242),y=s(69808);function p(r,_){1&r&&(t.TgZ(0,"div",28),t._uU(1,"IFSC is required."),t.qZA())}function h(r,_){1&r&&(t.TgZ(0,"div",28),t._uU(1,"Account Type is required."),t.qZA())}function g(r,_){1&r&&(t.TgZ(0,"div",28),t._uU(1,"Bank Name is required."),t.qZA())}function C(r,_){1&r&&(t.TgZ(0,"div",28),t._uU(1,"Branch is required."),t.qZA())}function m(r,_){1&r&&(t.TgZ(0,"div",28),t._uU(1,"Address is required."),t.qZA())}function v(r,_){1&r&&(t.TgZ(0,"div",28),t._uU(1,"Account Number is required."),t.qZA())}function w(r,_){1&r&&(t.TgZ(0,"div",28),t._uU(1,"A/c Holder Name is required."),t.qZA())}function N(r,_){1&r&&t._UZ(0,"i",29)}let R=(()=>{class r{constructor(o,a,u,E){var x,k,D,O,M,S,H,Y;this.toster=o,this.apiService=a,this.dialogRef=u,this.dialogdata=E,this.bankDetails=new i.cw({person_id:new i.NI(this.dialogdata.bankDetails.person_id),ifsc:new i.NI(null!==(x=this.dialogdata.bankDetails.ifsc)&&void 0!==x?x:"",[i.kI.required]),micr:new i.NI(null!==(k=this.dialogdata.bankDetails.micr)&&void 0!==k?k:""),account_type:new i.NI(null!==(D=this.dialogdata.bankDetails.account_type)&&void 0!==D?D:"",[i.kI.required]),bank_name:new i.NI(null!==(O=this.dialogdata.bankDetails.bank_name)&&void 0!==O?O:"",[i.kI.required]),branch:new i.NI(null!==(M=this.dialogdata.bankDetails.branch)&&void 0!==M?M:"",[i.kI.required]),address:new i.NI(null!==(S=this.dialogdata.bankDetails.address)&&void 0!==S?S:"",[i.kI.required]),account_number:new i.NI(null!==(H=this.dialogdata.bankDetails.account_number)&&void 0!==H?H:"",[i.kI.required]),acc_holder_name:new i.NI(null!==(Y=this.dialogdata.bankDetails.acc_holder_name)&&void 0!==Y?Y:"",[i.kI.required])})}ngOnInit(){this.loader=!1}resetBankDetails(){this.bankDetails.reset({person_id:this.dialogdata.bankDetails.person_id,ifsc:"",micr:"",account_type:"",bank_name:"",branch:"",address:"",account_number:"",acc_holder_name:""})}submitBankDetails(){this.bankDetails.valid?(this.loader=!0,this.apiService.postTypeRequest(`bank_info/${this.dialogdata.opertaion}/${this.dialogdata.personType}`,this.bankDetails.value).subscribe(o=>{o.result?this.dialogRef.close(!0):(this.toster.error(o.message),this.loader=!1)})):(this.bankDetails.markAllAsTouched(),this.toster.error("Enter all manditory details."))}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(q._W),t.Y36(f.s),t.Y36(A.so),t.Y36(A.WI))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-add-edit-bank-details"]],decls:66,vars:10,consts:[[1,"card"],[1,"card-header","card-header","d-flex","justify-content-between"],[1,"card-body"],["autocomplete","off","novalidate","",1,"needs-validation",3,"formGroup"],[1,"form-row"],[1,"col-md-6","mb-3"],["for","ifsc"],[1,"font-danger"],["type","text","id","ifsc","placeholder","CNRB0000","formControlName","ifsc",1,"form-control"],["class","text text-danger",4,"ngIf"],["for","micr"],["type","text","id","micr","placeholder","CZ098","formControlName","micr",1,"form-control"],["for","account_type"],["type","text","id","account_type","placeholder","Savings","formControlName","account_type",1,"form-control"],["for","bank_name"],["type","text","id","bank_name","placeholder","Canara Bank","formControlName","bank_name",1,"form-control"],["for","branch"],["type","text","id","branch","placeholder","Hampi","formControlName","branch",1,"form-control"],["for","address"],["type","text","id","address","placeholder","XXXXXXXX","formControlName","address",1,"form-control"],["for","account_number"],["type","text","id","account_number","placeholder","0987709797979","formControlName","account_number",1,"form-control"],["for","acc_holder_name"],["type","text","id","acc_holder_name","placeholder","XXX XXX XXX","formControlName","acc_holder_name",1,"form-control"],[1,"col","d-flex","justify-content-around"],["type","submit",1,"btn","btn-primary","float-right","text-center","mb-3",3,"disabled","click"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],["type","button",1,"btn","btn-warning","float-right","text-center","mb-3",3,"click"],[1,"text","text-danger"],[1,"fa","fa-circle-o-notch","fa-spin"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h5"),t._uU(3,"Add/Edit Bank Details"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"form",3),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"label",6),t._uU(9,"IFSC "),t.TgZ(10,"span",7),t._uU(11,"*"),t.qZA(),t.qZA(),t._UZ(12,"input",8),t.YNc(13,p,2,0,"div",9),t.qZA(),t.TgZ(14,"div",5),t.TgZ(15,"label",10),t._uU(16,"MICR"),t.qZA(),t._UZ(17,"input",11),t.qZA(),t.TgZ(18,"div",5),t.TgZ(19,"label",12),t._uU(20,"Account Type "),t.TgZ(21,"span",7),t._uU(22,"*"),t.qZA(),t.qZA(),t._UZ(23,"input",13),t.YNc(24,h,2,0,"div",9),t.qZA(),t.TgZ(25,"div",5),t.TgZ(26,"label",14),t._uU(27,"Bank Name "),t.TgZ(28,"span",7),t._uU(29,"*"),t.qZA(),t.qZA(),t._UZ(30,"input",15),t.YNc(31,g,2,0,"div",9),t.qZA(),t.TgZ(32,"div",5),t.TgZ(33,"label",16),t._uU(34,"Branch "),t.TgZ(35,"span",7),t._uU(36,"*"),t.qZA(),t.qZA(),t._UZ(37,"input",17),t.YNc(38,C,2,0,"div",9),t.qZA(),t.TgZ(39,"div",5),t.TgZ(40,"label",18),t._uU(41,"Address "),t.TgZ(42,"span",7),t._uU(43,"*"),t.qZA(),t.qZA(),t._UZ(44,"input",19),t.YNc(45,m,2,0,"div",9),t.qZA(),t.TgZ(46,"div",5),t.TgZ(47,"label",20),t._uU(48,"Account Number "),t.TgZ(49,"span",7),t._uU(50,"*"),t.qZA(),t.qZA(),t._UZ(51,"input",21),t.YNc(52,v,2,0,"div",9),t.qZA(),t.TgZ(53,"div",5),t.TgZ(54,"label",22),t._uU(55,"A/c Holder Name "),t.TgZ(56,"span",7),t._uU(57,"*"),t.qZA(),t.qZA(),t._UZ(58,"input",23),t.YNc(59,w,2,0,"div",9),t.qZA(),t.TgZ(60,"div",24),t.TgZ(61,"button",25),t.NdJ("click",function(){return a.submitBankDetails()}),t._uU(62,"Submit \xa0"),t.YNc(63,N,1,0,"i",26),t.qZA(),t.TgZ(64,"button",27),t.NdJ("click",function(){return a.resetBankDetails()}),t._uU(65,"Clear"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(5),t.Q6J("formGroup",a.bankDetails),t.xp6(8),t.Q6J("ngIf",a.bankDetails.controls.ifsc.touched&&(null==a.bankDetails.controls.ifsc.errors?null:a.bankDetails.controls.ifsc.errors.required)),t.xp6(11),t.Q6J("ngIf",a.bankDetails.controls.account_type.touched&&(null==a.bankDetails.controls.account_type.errors?null:a.bankDetails.controls.account_type.errors.required)),t.xp6(7),t.Q6J("ngIf",a.bankDetails.controls.bank_name.touched&&(null==a.bankDetails.controls.bank_name.errors?null:a.bankDetails.controls.bank_name.errors.required)),t.xp6(7),t.Q6J("ngIf",a.bankDetails.controls.branch.touched&&(null==a.bankDetails.controls.branch.errors?null:a.bankDetails.controls.branch.errors.required)),t.xp6(7),t.Q6J("ngIf",a.bankDetails.controls.address.touched&&(null==a.bankDetails.controls.address.errors?null:a.bankDetails.controls.address.errors.required)),t.xp6(7),t.Q6J("ngIf",a.bankDetails.controls.account_number.touched&&(null==a.bankDetails.controls.account_number.errors?null:a.bankDetails.controls.account_number.errors.required)),t.xp6(7),t.Q6J("ngIf",a.bankDetails.controls.acc_holder_name.touched&&(null==a.bankDetails.controls.acc_holder_name.errors?null:a.bankDetails.controls.acc_holder_name.errors.required)),t.xp6(2),t.Q6J("disabled",a.loader),t.xp6(2),t.Q6J("ngIf",a.loader))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,y.O5],styles:[""]}),r})();var P=s(40520),J=s(16256),d=s(45231),Z=s(4426),n=s(40845),c=s(25787),l=s(49150);function b(r,_){1&r&&t._UZ(0,"div")}function T(r,_){if(1&r){const o=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"button",10),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).editDetails()}),t.qZA(),t.TgZ(2,"button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).deleteDetails()}),t.qZA(),t.qZA()}if(2&r){const o=t.oxw(2);t.xp6(1),t.Q6J("disabled",o.disableActions),t.xp6(1),t.Q6J("disabled",o.disableActions)}}function U(r,_){if(1&r){const o=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).addDetails()}),t.qZA()}}function W(r,_){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,b,1,0,"div",6),t.YNc(2,T,3,2,"ng-template",null,7,t.W1O),t.YNc(4,U,1,0,"ng-template",null,8,t.W1O),t.qZA()),2&r){const o=t.MAs(3),a=t.MAs(5),u=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==u.bankDetails.bank_id?null:u.bankDetails.bank_id.toString().length)>0)("ngIfThen",o)("ngIfElse",a)}}function j(r,_){1&r&&(t.TgZ(0,"div",13),t._UZ(1,"span",14),t.qZA())}function F(r,_){if(1&r&&(t.TgZ(0,"div",15),t.TgZ(1,"div",16),t.TgZ(2,"div",17),t.TgZ(3,"div",18),t.TgZ(4,"span"),t._uU(5,"IFSC"),t.qZA(),t.TgZ(6,"span"),t._uU(7,":"),t.qZA(),t.qZA(),t.TgZ(8,"div",19),t.TgZ(9,"span"),t.TgZ(10,"b"),t._uU(11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",16),t.TgZ(13,"div",17),t.TgZ(14,"div",18),t.TgZ(15,"span"),t._uU(16,"MICR"),t.qZA(),t.TgZ(17,"span"),t._uU(18,":"),t.qZA(),t.qZA(),t.TgZ(19,"div",19),t.TgZ(20,"span"),t.TgZ(21,"b"),t._uU(22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",16),t.TgZ(24,"div",17),t.TgZ(25,"div",18),t.TgZ(26,"span"),t._uU(27,"Account Type"),t.qZA(),t.TgZ(28,"span"),t._uU(29,":"),t.qZA(),t.qZA(),t.TgZ(30,"div",19),t.TgZ(31,"span"),t.TgZ(32,"b"),t._uU(33),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",16),t.TgZ(35,"div",17),t.TgZ(36,"div",18),t.TgZ(37,"span"),t._uU(38,"Bank Name"),t.qZA(),t.TgZ(39,"span"),t._uU(40,":"),t.qZA(),t.qZA(),t.TgZ(41,"div",19),t.TgZ(42,"span"),t.TgZ(43,"b"),t._uU(44),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",16),t.TgZ(46,"div",17),t.TgZ(47,"div",18),t.TgZ(48,"span"),t._uU(49,"Branch"),t.qZA(),t.TgZ(50,"span"),t._uU(51,":"),t.qZA(),t.qZA(),t.TgZ(52,"div",19),t.TgZ(53,"span"),t.TgZ(54,"b"),t._uU(55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",16),t.TgZ(57,"div",17),t.TgZ(58,"div",18),t.TgZ(59,"span"),t._uU(60,"Account Number"),t.qZA(),t.TgZ(61,"span"),t._uU(62,":"),t.qZA(),t.qZA(),t.TgZ(63,"div",19),t.TgZ(64,"span"),t.TgZ(65,"b"),t._uU(66),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(67,"div",16),t.TgZ(68,"div",17),t.TgZ(69,"div",18),t.TgZ(70,"span"),t._uU(71,"Address"),t.qZA(),t.TgZ(72,"span"),t._uU(73,":"),t.qZA(),t.qZA(),t.TgZ(74,"div",19),t.TgZ(75,"span"),t.TgZ(76,"b"),t._uU(77),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(78,"div",16),t.TgZ(79,"div",17),t.TgZ(80,"div",18),t.TgZ(81,"span"),t._uU(82,"A/c Holder Name"),t.qZA(),t.TgZ(83,"span"),t._uU(84,":"),t.qZA(),t.qZA(),t.TgZ(85,"div",19),t.TgZ(86,"span"),t.TgZ(87,"b"),t._uU(88),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){const o=t.oxw();let a,u,E,x,k,D,O,M;t.xp6(11),t.hij(" ",null!==(a=o.bankDetails.ifsc)&&void 0!==a?a:"--",""),t.xp6(11),t.hij(" ",null!==(u=o.bankDetails.micr)&&void 0!==u?u:"--",""),t.xp6(11),t.hij(" ",null!==(E=o.bankDetails.account_type)&&void 0!==E?E:"--",""),t.xp6(11),t.hij(" ",null!==(x=o.bankDetails.bank_name)&&void 0!==x?x:"--",""),t.xp6(11),t.hij(" ",null!==(k=o.bankDetails.branch)&&void 0!==k?k:"--",""),t.xp6(11),t.hij(" ",null!==(D=o.bankDetails.account_number)&&void 0!==D?D:"--",""),t.xp6(11),t.hij(" ",null!==(O=o.bankDetails.address)&&void 0!==O?O:"--",""),t.xp6(11),t.hij(" ",null!==(M=o.bankDetails.acc_holder_name)&&void 0!==M?M:"--","")}}let Q=(()=>{class r{constructor(o,a,u,E,x,k,D){this.http=o,this.dialog=a,this.toster=u,this.apiService=E,this.authService=x,this.employeeService=k,this.confirmationService=D,this.dataFetch=!1,this.loader=!1,this.update=!1,this.disableActions=!1}ngOnInit(){return(0,e.mG)(this,void 0,void 0,function*(){this.bankDetails={person_id:this.person_id,ifsc:"",micr:"",account_type:"",bank_name:"",branch:"",address:"",account_number:"",acc_holder_name:""},this.loader=!1,this.disableActions=!1,yield this.fetchApi()})}fetchApi(){return(0,e.mG)(this,void 0,void 0,function*(){this.dataFetch=!1,yield this.apiService.getTypeRequest(`get_bank_info/${this.Type}/`+this.person_id).subscribe(o=>{o.result?(this.bankDetails=o.data,this.bankDetails.person_id=this.person_id):"INVALID_LOGIN"===o.error_code&&(this.toster.error("Session Expired"),this.authService.SignOut()),this.dataFetch=!0})})}addDetails(){this.dialog.open(R,{width:"50%",data:{bankDetails:this.bankDetails,personType:this.Type,opertaion:"insert"}}).afterClosed().subscribe(a=>{a&&(this.toster.success("Data added successfully"),this.confirmationService.showSuccessMessage("Added!","Data added Successfully!!!"),this.ngOnInit())})}editDetails(){this.disableActions=!0,this.dialog.open(R,{width:"50%",data:{bankDetails:this.bankDetails,personType:this.Type,opertaion:"update"}}).afterClosed().subscribe(a=>{a&&(this.toster.success("Data updated successfully"),this.confirmationService.showSuccessMessage("Updated!","Data updated Successfully!!!"),this.ngOnInit()),this.disableActions=!1})}deleteDetails(){return(0,e.mG)(this,void 0,void 0,function*(){this.disableActions=!0,this.confirmationService.showConfirmDialog().then(o=>{o.value?this.apiService.postTypeRequest(`bank_info/delete/${this.Type}`,{bank_id:this.bankDetails.bank_id}).subscribe(u=>{u.result?(this.toster.success("Data deleted successfully"),this.confirmationService.showSuccessMessage("Deleted!",u.message),this.dataFetch=!0,this.ngOnInit()):this.toster.error(u.message)}):this.disableActions=!1})})}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(P.eN),t.Y36(A.uw),t.Y36(q._W),t.Y36(f.s),t.Y36(J.e),t.Y36(d.G),t.Y36(Z.Y))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-bank-details"]],inputs:{Type:"Type",person_id:"person_id"},decls:8,vars:3,consts:[[1,"card"],[1,"card-header","d-flex","justify-content-between"],[4,"ngIf"],[1,"card-body"],["class","loader-box center",4,"ngIf"],["class","row mb-4 pl-3 pr-3",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["IF",""],["ELSE",""],[1,"d-flex","justify-content-end"],["pButton","","pRipple","","type","button","icon","pi pi-pencil","ngbTooltip","Update Record",1,"p-button-rounded","btn-primary","ml-3",2,"height","35px","width","35px",3,"disabled","click"],["pButton","","pRipple","","type","button","icon","pi pi-trash","ngbTooltip","Delete Record",1,"p-button-rounded","btn-danger","ml-3",2,"height","35px","width","35px",3,"disabled","click"],["pButton","","pRipple","","type","button","icon","pi pi-plus","ngbTooltip","Add Record",1,"p-button-rounded","btn-primary","ml-3",2,"height","35px","width","35px",3,"click"],[1,"loader-box","center"],[1,"rotate","dashed"],[1,"row","mb-4","pl-3","pr-3"],[1,"col-md-6","col-sm-12"],[1,"row"],[1,"col-6","d-flex","justify-content-between"],[1,"col-6"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h5"),t._uU(3,"Bank Account Details"),t.qZA(),t.YNc(4,W,6,3,"div",2),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,j,2,0,"div",4),t.YNc(7,F,89,8,"div",5),t.qZA(),t.qZA()),2&o&&(t.xp6(4),t.Q6J("ngIf",a.dataFetch),t.xp6(2),t.Q6J("ngIf",!a.dataFetch),t.xp6(1),t.Q6J("ngIf",a.dataFetch))},directives:[y.O5,n.Hq,c.H,l._L],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),r})()},89022:(B,I,s)=>{s.d(I,{M:()=>J});var e=s(5e3),i=s(64720),A=s(8929),t=s(69808),q=s(31424),f=s(22487),y=s(40845),p=s(25787),h=s(93075);function g(d,Z){if(1&d){const n=e.EpF();e.TgZ(0,"webcam",10),e.NdJ("imageCapture",function(l){return e.CHM(n),e.oxw(2).handleImage(l)}),e.qZA()}if(2&d){const n=e.oxw(2);e.Q6J("height",500)("width",500)("trigger",n.triggerObservable)("switchCamera",n.nextWebcamObservable)}}function C(d,Z){if(1&d&&(e.TgZ(0,"ul"),e.TgZ(1,"li"),e._uU(2),e.ALo(3,"json"),e.qZA(),e.qZA()),2&d){const n=Z.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,n))}}function m(d,Z){if(1&d&&(e.TgZ(0,"div"),e.TgZ(1,"h4"),e._uU(2,"Error Messages:"),e.qZA(),e.YNc(3,C,4,3,"ul",11),e.qZA()),2&d){const n=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",n.errors)}}function v(d,Z){if(1&d){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",4),e.TgZ(2,"div",5),e.TgZ(3,"button",6),e.NdJ("click",function(){return e.CHM(n),e.oxw().takeSnapshot()}),e._uU(4,"Take Picture"),e.qZA(),e.TgZ(5,"button",6),e.NdJ("click",function(){return e.CHM(n),e.oxw().changeWebCame(!0)}),e._uU(6,"Toggle Camera"),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return e.CHM(n),e.oxw().onOffWebCame()}),e._uU(8,"Switch camera"),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return e.CHM(n),e.MAs(12).click()}),e._uU(10,"Browse File"),e.qZA(),e.TgZ(11,"input",7,8),e.NdJ("change",function(l){return e.CHM(n),e.oxw().selectFile(l)}),e.qZA(),e.qZA(),e._UZ(13,"br"),e.YNc(14,g,1,4,"webcam",9),e.qZA(),e.YNc(15,m,4,1,"div",2),e.qZA()}if(2&d){const n=e.oxw();e.xp6(14),e.Q6J("ngIf",n.showWebcam),e.xp6(1),e.Q6J("ngIf",n.errors.length>0)}}function w(d,Z){1&d&&e._UZ(0,"i",31)}function N(d,Z){1&d&&e._UZ(0,"i",32)}function R(d,Z){if(1&d){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div"),e.TgZ(2,"image-cropper",12),e.NdJ("imageCropped",function(l){return e.CHM(n),e.oxw().imageCropped(l)})("imageLoaded",function(){return e.CHM(n),e.oxw().imageLoaded()})("cropperReady",function(){return e.CHM(n),e.oxw().cropperReady()})("loadImageFailed",function(){return e.CHM(n),e.oxw().loadImageFailed()}),e.qZA(),e.qZA(),e.TgZ(3,"div",13),e._UZ(4,"img",14),e.qZA(),e.TgZ(5,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().rotateLeft()}),e._UZ(6,"i",16),e.qZA(),e.TgZ(7,"button",17),e.NdJ("click",function(){return e.CHM(n),e.oxw().rotateRight()}),e._UZ(8,"i",18),e.qZA(),e.TgZ(9,"button",19),e.NdJ("click",function(){return e.CHM(n),e.oxw().flipHorizontal()}),e._UZ(10,"i",20),e.qZA(),e.TgZ(11,"button",21),e.NdJ("click",function(){return e.CHM(n),e.oxw().flipVertical()}),e._UZ(12,"i",20),e.qZA(),e._UZ(13,"br"),e._UZ(14,"br"),e.TgZ(15,"button",22),e.NdJ("click",function(){return e.CHM(n),e.oxw().toggleContainWithinAspectRatio()}),e._uU(16),e.YNc(17,w,1,0,"i",23),e.YNc(18,N,1,0,"i",24),e.qZA(),e.TgZ(19,"button",25),e.NdJ("click",function(){return e.CHM(n),e.oxw().resetImage()}),e._uU(20,"Reset image \xa0 "),e._UZ(21,"i",26),e.qZA(),e._UZ(22,"br"),e._UZ(23,"br"),e.TgZ(24,"div",27),e.TgZ(25,"button",28),e.NdJ("click",function(){return e.CHM(n),e.oxw().zoomOut()}),e._UZ(26,"i",16),e.qZA(),e.TgZ(27,"input",29),e.NdJ("ngModelChange",function(l){return e.CHM(n),e.oxw().rotation=l})("keyup",function(){return e.CHM(n),e.oxw().updateRotation()}),e.qZA(),e.TgZ(28,"button",30),e.NdJ("click",function(){return e.CHM(n),e.oxw().zoomIn()}),e._UZ(29,"i",16),e.qZA(),e.qZA(),e.TgZ(30,"button",25),e.NdJ("click",function(){return e.CHM(n),e.oxw().uploadImage()}),e._uU(31,"Upload Picture"),e.qZA(),e.qZA()}if(2&d){const n=e.oxw();e.xp6(2),e.Udp("display",n.showCropper?null:"none"),e.Q6J("imageFile",n.cropImage)("maintainAspectRatio",!0)("resizeToWidth",128)("cropperMinWidth",128)("onlyScaleDown",!0)("roundCropper",!1)("canvasRotation",n.canvasRotation)("containWithinAspectRatio",n.containWithinAspectRatio)("transform",n.transform),e.xp6(2),e.Q6J("src",n.croppedImage,e.LSH),e.xp6(12),e.hij(" ",n.containWithinAspectRatio?"Fill Aspect Ratio":"Contain Within Aspect Ratio"," \xa0 "),e.xp6(1),e.Q6J("ngIf",!n.containWithinAspectRatio),e.xp6(1),e.Q6J("ngIf",n.containWithinAspectRatio),e.xp6(9),e.Q6J("ngModel",n.rotation)}}function P(d,Z){1&d&&e._uU(0," Camera device not available ")}let J=(()=>{class d{constructor(){this.getPicture=new e.vpe,this.showWebcam=!0,this.isCameraExist=!0,this.errors=[],this.imageChangedEvent="",this.croppedImage="",this.showCropper=!1,this.canvasRotation=0,this.rotation=0,this.scale=1,this.containWithinAspectRatio=!1,this.transform={},this.trigger=new A.xQ,this.nextWebcam=new A.xQ}ngOnInit(){i.BF.getAvailableVideoInputs().then(n=>{this.isCameraExist=n&&n.length>0})}takeSnapshot(){this.trigger.next()}onOffWebCame(){this.cropImage=null,this.showWebcam=!this.showWebcam}handleInitError(n){this.errors.push(n)}changeWebCame(n){this.nextWebcam.next(n)}handleImage(n){this.showWebcam=!1;const c=n.imageAsDataUrl.split(","),b=(c[0].match(/:(.*?);/),atob(c[1]));let T=b.length;const U=new Uint8Array(T);for(;T--;)U[T]=b.charCodeAt(T);this.cropImage=new File([U],"Profile.jpg",{type:"Image/jpeg"})}get triggerObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}imageCropped(n){this.croppedImage=n.base64}imageLoaded(){this.showCropper=!0}selectFile(n){this.cropImage=n.target.files[0],this.showWebcam=!1}uploadImage(){const c=String(this.croppedImage).split(","),b=(c[0].match(/:(.*?);/),atob(c[1]));let T=b.length;const U=new Uint8Array(T);for(;T--;)U[T]=b.charCodeAt(T);let W=new File([U],"Profile.png",{type:"Image/jpeg"});this.getPicture.emit(W)}fileChangeEvent(n){this.imageChangedEvent=n}cropperReady(){}loadImageFailed(){}rotateLeft(){this.canvasRotation--,this.flipAfterRotate()}rotateRight(){this.canvasRotation++,this.flipAfterRotate()}flipAfterRotate(){const n=this.transform.flipH,c=this.transform.flipV;this.transform=Object.assign(Object.assign({},this.transform),{flipH:c,flipV:n})}flipHorizontal(){this.transform=Object.assign(Object.assign({},this.transform),{flipH:!this.transform.flipH})}flipVertical(){this.transform=Object.assign(Object.assign({},this.transform),{flipV:!this.transform.flipV})}resetImage(){this.scale=1,this.rotation=0,this.canvasRotation=0,this.transform={}}zoomOut(){this.scale-=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}zoomIn(){this.scale+=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}toggleContainWithinAspectRatio(){this.containWithinAspectRatio=!this.containWithinAspectRatio}updateRotation(){this.transform=Object.assign(Object.assign({},this.transform),{rotate:this.rotation})}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-camera"]],outputs:{getPicture:"getPicture"},decls:5,vars:3,consts:[[1,"container-fluid","mt-4"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["noCameraExist",""],[2,"text-align","center"],[1,"btn-group"],["type","button",1,"btn","btn-primary",3,"click"],["type","file","pInputText","","id","print_logo",2,"display","none",3,"change"],["print_logo",""],[3,"height","width","trigger","switchCamera","imageCapture",4,"ngIf"],[3,"height","width","trigger","switchCamera","imageCapture"],[4,"ngFor","ngForOf"],["format","png","outputType","base64",3,"imageFile","maintainAspectRatio","resizeToWidth","cropperMinWidth","onlyScaleDown","roundCropper","canvasRotation","containWithinAspectRatio","transform","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"text-center"],[3,"src"],["pButton","","pRipple","","type","button","icon","pi pi-undo",1,"btn-primary","p-button-rounded",2,"height","35px","width","35px",3,"click"],["data-feather","rotate-ccw"],["pButton","","pRipple","","type","button","icon","pi pi-refresh",1,"btn-primary","p-button-rounded",2,"height","35px","width","35px",3,"click"],["data-feather","rotate-cw"],["pButton","","pRipple","","type","button","icon","pi pi-arrows-h",1,"btn-primary","p-button-rounded",2,"height","35px","width","35px",3,"click"],["data-feather","maximize-2"],["pButton","","pRipple","","type","button","icon","pi pi-arrows-v",1,"btn-primary","p-button-rounded",2,"height","35px","width","35px",3,"click"],[1,"btn","btn-primary","text-center",3,"click"],["class","pi pi-window-maximize",4,"ngIf"],["class","pi pi-window-minimize",4,"ngIf"],["type","button",1,"btn","btn-primary","text-center",3,"click"],[1,"pi","pi-history"],[1,"row","text-center",2,"align-items","center","justify-content","center"],["pButton","","pRipple","","type","button","icon","pi pi-minus",1,"btn-primary","p-button-rounded",2,"height","35px","width","35px",3,"click"],["placeholder","Rotation","type","number",3,"ngModel","ngModelChange","keyup"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"btn-primary","p-button-rounded",2,"height","35px","width","35px",3,"click"],[1,"pi","pi-window-maximize"],[1,"pi","pi-window-minimize"]],template:function(n,c){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,v,16,2,"div",1),e.YNc(2,R,32,16,"div",2),e.YNc(3,P,1,0,"ng-template",null,3,e.W1O),e.qZA()),2&n){const l=e.MAs(4);e.xp6(1),e.Q6J("ngIf",c.isCameraExist)("ngIfElse",l),e.xp6(1),e.Q6J("ngIf",c.cropImage)}},directives:[t.O5,q.o,i.i3,t.sg,f.ap,y.Hq,p.H,h.wV,h.Fj,h.JJ,h.On],pipes:[t.Ts],styles:["button[_ngcontent-%COMP%]{margin:10px}"]}),d})()},69720:(B,I,s)=>{s.d(I,{T:()=>h});var e=s(72308),i=s(5e3),A=s(22313),t=s(40520),q=s(69808);const f=["pdfViewerOnDemand"];function y(g,C){if(1&g&&i._UZ(0,"img",3),2&g){const m=i.oxw();i.Q6J("src",m.dialogdata,i.LSH)}}function p(g,C){if(1&g&&i._UZ(0,"iframe",4),2&g){const m=i.oxw();i.Q6J("src",m.pdfUrl,i.uOi)}}let h=(()=>{class g{constructor(m,v,w,N,R){this.domSanitizer=m,this.http=v,this.dialog=w,this.dialogRef=N,this.dialogdata=R,this.isPdf=!1}ngOnInit(){this.isPdf=!!this.dialogdata.endsWith("pdf"),this.pdfUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.dialogdata)}}return g.\u0275fac=function(m){return new(m||g)(i.Y36(A.H7),i.Y36(t.eN),i.Y36(e.uw),i.Y36(e.so),i.Y36(e.WI))},g.\u0275cmp=i.Xpm({type:g,selectors:[["app-doc-viewer"]],viewQuery:function(m,v){if(1&m&&i.Gf(f,5),2&m){let w;i.iGM(w=i.CRH())&&(v.pdfViewerOnDemand=w.first)}},decls:3,vars:3,consts:[["download","",3,"href"],["alt","","class","center","style","object-fit: contain;height: 98%;width: 100%;",3,"src",4,"ngIf"],["style","object-fit: contain;height: 98%;width: 100%;","frameborder","0",3,"src",4,"ngIf"],["alt","",1,"center",2,"object-fit","contain","height","98%","width","100%",3,"src"],["frameborder","0",2,"object-fit","contain","height","98%","width","100%",3,"src"]],template:function(m,v){1&m&&(i.TgZ(0,"a",0),i.YNc(1,y,1,1,"img",1),i.qZA(),i.YNc(2,p,1,1,"iframe",2)),2&m&&(i.s9C("href",v.dialogdata,i.LSH),i.xp6(1),i.Q6J("ngIf",!v.isPdf),i.xp6(1),i.Q6J("ngIf",v.isPdf))},directives:[q.O5],styles:[".pdf-viewer-wrap[_ngcontent-%COMP%]{display:flex;height:95vh;border:5px solid #cccccc}.pdf-viewer-controls-wrap[_ngcontent-%COMP%]{border:5px solid #cccccc;width:20%;text-align:center}.pdfv-control[_ngcontent-%COMP%]{background:#f3f3f3;padding:10px;border-bottom:1px solid #cccc}.pdfv-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#9dff00;border:none;padding:5px 10px;border-radius:5px;font-weight:700;cursor:pointer}.pdf-viewer-controls[_ngcontent-%COMP%]{overflow:auto}.pdf-viewer-viewer-window[_ngcontent-%COMP%]{border:5px solid #cccccc;width:80%;overflow:auto}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),g})()},45231:(B,I,s)=>{s.d(I,{G:()=>q});var e=s(7206),A=s(92340),t=s(5e3);let q=(()=>{class f{constructor(){this.encPassword=A.N.encPassword}setSelectedEmployee(p){this.selectedEmployee=p;var h=e.AES.encrypt(JSON.stringify(p),this.encPassword).toString();localStorage.setItem("selectedEmployee",h)}setSelectedTab(p){localStorage.setItem("selectedTab",null!=p?p:"Profile")}get getSelectedEmployee(){var p,h;return null!==(h=null!==(p=this.selectedEmployee)&&void 0!==p?p:JSON.parse(e.AES.decrypt(localStorage.getItem("selectedEmployee"),this.encPassword.trim()).toString(e.enc.Utf8)))&&void 0!==h?h:""}get getSelectedTab(){var p;return null!==(p=this.selectedTab)&&void 0!==p?p:localStorage.getItem("selectedTab")}}return f.\u0275fac=function(p){return new(p||f)},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()}}]);