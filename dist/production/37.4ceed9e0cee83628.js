"use strict";(self.webpackChunkendless_starterkit=self.webpackChunkendless_starterkit||[]).push([[37],{67061:(B,v,c)=>{c.d(v,{T:()=>o});var m=c(70655),t=c(5e3),f=c(21242),x=c(70812),Z=c(34578),T=c(64383),C=c(4426),u=c(72308),r=c(69808),h=c(93075),A=c(40845),D=c(25787),b=c(10930);function y(d,i){1&d&&t._UZ(0,"i",20)}function g(d,i){1&d&&(t.TgZ(0,"div",21),t._UZ(1,"span",22),t.qZA())}function M(d,i){if(1&d&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&d){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.name)}}const I=function(){return{standalone:!0}};function E(d,i){if(1&d){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",27),t.NdJ("keyup",function(a){return t.CHM(n),t.oxw(4).ayeditValue=a.target.value}),t.qZA(),t.qZA()}if(2&d){const n=t.oxw(4);t.xp6(1),t.s9C("value",n.ayeditValue),t.Q6J("ngModelOptions",t.DdM(2,I))}}function q(d,i){if(1&d){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",28),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(),s=a.index,_=a.$implicit;return t.oxw(3).ayeditClick(s,_)}),t.qZA(),t.TgZ(2,"button",29),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw(3).onDeleteAy(a.id)}),t.qZA(),t.TgZ(3,"p-inputSwitch",30),t.NdJ("onChange",function(){t.CHM(n);const a=t.oxw().$implicit,s=t.oxw(3);return s.active_ay=a,s.UpdateAy()}),t.qZA(),t.qZA()}if(2&d){const n=t.oxw().$implicit;t.xp6(3),t.Q6J("ngModel",1==n.status)}}function w(d,i){if(1&d){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",31),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw(3).updateAy(a.id)}),t.qZA(),t.TgZ(2,"button",32),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(4);return a.ayeditIndex=-1,a.clear()}),t.qZA(),t.qZA()}}function O(d,i){if(1&d&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,M,2,1,"div",25),t.YNc(5,E,2,3,"div",25),t.qZA(),t.TgZ(6,"td",26),t.YNc(7,q,4,1,"div",25),t.YNc(8,w,3,0,"div",25),t.qZA(),t.qZA()),2&d){const n=i.index,e=t.oxw(3);t.xp6(2),t.hij(" ",n+1," "),t.xp6(2),t.Q6J("ngIf",e.ayeditIndex!=n),t.xp6(1),t.Q6J("ngIf",e.ayeditIndex==n),t.xp6(2),t.Q6J("ngIf",e.ayeditIndex!=n),t.xp6(1),t.Q6J("ngIf",e.ayeditIndex==n)}}function p(d,i){if(1&d&&(t.TgZ(0,"table",23),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4,"SlNo"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Actions / Status"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"tbody"),t.YNc(10,O,9,5,"tr",24),t.qZA(),t.qZA()),2&d){const n=t.oxw(2);t.xp6(10),t.Q6J("ngForOf",n.ayList)}}function L(d,i){if(1&d){const n=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"div",10),t.TgZ(2,"div",11),t.TgZ(3,"div",12),t.TgZ(4,"input",13),t.NdJ("ngModelChange",function(a){return t.CHM(n),t.oxw().ayeditValue=a})("keyup",function(a){return t.CHM(n),t.oxw().onAyFilter(a.target.value)}),t.qZA(),t.qZA(),t.TgZ(5,"div",14),t.TgZ(6,"button",15),t.NdJ("click",function(){return t.CHM(n),t.oxw().onAddNewAy()}),t._uU(7),t.YNc(8,y,1,0,"i",16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",17),t.YNc(10,g,2,0,"div",18),t.YNc(11,p,11,1,"table",19),t.qZA(),t.qZA(),t.qZA()}if(2&d){const n=t.oxw();t.xp6(4),t.Q6J("ngModel",n.ayeditValue),t.xp6(2),t.Q6J("disabled",n.ayList.length>0||n.addLoader),t.xp6(1),t.hij(" ",n.addLoader?"":"Add","\xa0"),t.xp6(1),t.Q6J("ngIf",n.addLoader),t.xp6(2),t.Q6J("ngIf",n.dataFetch),t.xp6(1),t.Q6J("ngIf",!n.dataFetch)}}let o=(()=>{class d{constructor(n,e,a,s,_,l){this.apiService=n,this.dialog=e,this.spinner=a,this.toster=s,this.confirmationService=_,this.dialogRef=l,this.isAYFilter=!0,this.checked=!0,this.updateLoader=!1,this.addLoader=!1,this.dataFetch=!1,this.ayeditIndex=-1,this.old_active_ay=-1,this.ayList=[],this.ay=[]}ngOnInit(){this.clear(),this.dataFetch=!0,this.updateLoader=!1,this.addLoader=!1,this.ayeditValue="",this.apiService.getTypeRequest("dropdown_data/ACADEMIC_YEAR").subscribe(n=>{this.ayList=n.data,this.ay=n.data,this.ay.map(e=>{1==e.status&&(this.active_ay=e.id,this.old_active_ay=e.id)}),this.dataFetch=!1})}ayeditClick(n,e){this.ayeditValue=e.name,this.ayeditIndex=n}updateAy(n){this.addLoader=!0,this.dataFetch=!0;var e={item_id:n,item_name:this.ayeditValue};this.confirmationService.showUpdateConfirmDialog().then(a=>{a.value?this.apiService.postTypeRequest("update_item/ACADEMIC_YEAR",e).toPromise().then(s=>{s.result?(this.toster.warning("Data Updated"),this.confirmationService.showSuccessMessage("Data Updated",s.message),this.ngOnInit(),this.ayeditValue=""):(this.confirmationService.showErrorMessage("Cancelled!",s.message),this.addLoader=!1,this.dataFetch=!1)}):(this.addLoader=!1,this.dataFetch=!1)}),this.ayeditIndex=-1,this.dialogRef.close(!0)}UpdateAy(){this.dataFetch=!0,this.apiService.postTypeRequest("update_academic_status",{academic_year_id:this.active_ay.id,status:1==this.active_ay.status?0:1}).subscribe(e=>{e.result?(this.toster.success("Updates Academic Year"),this.confirmationService.showSuccessMessage("Data Updated",e.message)):this.updateLoader=!1,this.ngOnInit()})}onAyFilter(n){this.ayeditValue=n,this.ayList=[],this.ay.filter(e=>{e.name.toLowerCase().includes(n.toLowerCase())&&this.ayList.push(e)})}onAddNewAy(){this.addLoader=!0,this.dataFetch=!0,this.ayeditValue.length>0&&this.apiService.postTypeRequest("register_new_item/ACADEMIC_YEAR",{item_name:this.ayeditValue}).subscribe(e=>{e.result?(this.ay=e.data,this.ayList=e.data,this.ngOnInit(),this.ayeditValue="",this.toster.success("New Data Added"),this.confirmationService.showSuccessMessage("Added",e.message)):(this.addLoader=!1,this.dataFetch=!1)}),this.ayeditValue="",this.dialogRef.close(!0)}onDeleteAy(n){return(0,m.mG)(this,void 0,void 0,function*(){this.dataFetch=!0;var e={item_id:n};this.confirmationService.showDeleteConfirmDialog().then(a=>{a.value?this.apiService.postTypeRequest("delete_item/ACADEMIC_YEAR",e).toPromise().then(s=>{s.result?(this.toster.warning("Data deleted"),this.confirmationService.showWarningMessage("Deleted",s.message),this.ngOnInit()):(this.confirmationService.showErrorMessage("Cancelled!",s.message),this.addLoader=!1,this.dataFetch=!1)}):(this.addLoader=!1,this.dataFetch=!1)})})}clear(){this.ayeditValue=""}}return d.\u0275fac=function(n){return new(n||d)(t.Y36(f.s),t.Y36(x.x),t.Y36(Z.V),t.Y36(T._W),t.Y36(C.Y),t.Y36(u.so))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-academic-year"]],decls:12,vars:2,consts:[[1,"row"],[1,"col"],["id","accordionoc",1,"default-according","style-1","faq-accordion","job-accordion"],[1,"col-xl-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],["aria-controls","collapse",1,"btn","btn-link","pl-0",3,"click"],["class","collapse show",4,"ngIf"],[1,"collapse","show"],[1,"card-body","filter-cards-view","animate-chk"],[1,"job-filter","row"],[1,"faq-form","col-8"],["type","text","placeholder","2021-2022",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-4"],["type","button",1,"btn","btn-success","text-center","float-right",3,"disabled","click"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],[1,"table-responsive","mt-3","mb-3",2,"height","40.5vh"],["class","loader-box center",4,"ngIf"],["class","table",4,"ngIf"],[1,"fa","fa-circle-o-notch","fa-spin"],[1,"loader-box","center"],[1,"rotate","dashed"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"width","12rem"],["type","text",1,"form-control",3,"ngModelOptions","value","keyup"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","btn-success",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","btn-danger","ml-2",2,"height","35px","width","35px",3,"click"],[1,"ml-2",3,"ngModel","onChange"],["pButton","","pRipple","","type","button","icon","pi pi-file",1,"p-button-rounded","btn-success",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","btn-danger","ml-2",2,"height","35px","width","35px",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",0),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"h5",6),t.TgZ(8,"button",7),t.NdJ("click",function(){return e.isAYFilter=!e.isAYFilter}),t.TgZ(9,"h5"),t._uU(10,"Academic Year"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(11,L,12,6,"div",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(8),t.uIk("aria-expanded",!e.isAYFilter),t.xp6(3),t.Q6J("ngIf",e.isAYFilter))},directives:[r.O5,h.Fj,h.JJ,h.On,r.sg,A.Hq,D.H,b.Ql],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),d})()},8585:(B,v,c)=>{c.d(v,{O:()=>L});var m=c(70655),t=c(5e3),f=c(21242),x=c(70812),Z=c(34578),T=c(64383),C=c(72308),u=c(69808),r=c(93075),h=c(40845),A=c(25787);function D(o,d){1&o&&t._UZ(0,"i",20)}function b(o,d){1&o&&(t.TgZ(0,"div",21),t._UZ(1,"span",22),t.qZA())}function y(o,d){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.name)}}const g=function(){return{standalone:!0}};function M(o,d){if(1&o){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",27),t.NdJ("keyup",function(e){return t.CHM(i),t.oxw(4).classeditValue=e.target.value}),t.qZA(),t.qZA()}if(2&o){const i=t.oxw(4);t.xp6(1),t.s9C("value",i.classeditValue),t.Q6J("ngModelOptions",t.DdM(2,g))}}function I(o,d){if(1&o){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",28),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(),a=e.index,s=e.$implicit;return t.oxw(3).classeditClick(a,s)}),t.qZA(),t.TgZ(2,"button",29),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit;return t.oxw(3).onDeleteClass(e.id)}),t.qZA(),t.qZA()}}function E(o,d){if(1&o){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",30),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit;return t.oxw(3).updateClass(e.id)}),t.qZA(),t.TgZ(2,"button",31),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(4);return e.classeditIndex=-1,e.clear()}),t.qZA(),t.qZA()}}function q(o,d){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,y,2,1,"div",25),t.YNc(5,M,2,3,"div",25),t.qZA(),t.TgZ(6,"td",26),t.YNc(7,I,3,0,"div",25),t.YNc(8,E,3,0,"div",25),t.qZA(),t.qZA()),2&o){const i=d.index,n=t.oxw(3);t.xp6(2),t.hij(" ",i+1," "),t.xp6(2),t.Q6J("ngIf",n.classeditIndex!=i),t.xp6(1),t.Q6J("ngIf",n.classeditIndex==i),t.xp6(2),t.Q6J("ngIf",n.classeditIndex!=i),t.xp6(1),t.Q6J("ngIf",n.classeditIndex==i)}}function w(o,d){if(1&o&&(t.TgZ(0,"table",23),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4,"SlNo"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Actions"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"tbody"),t.YNc(10,q,9,5,"tr",24),t.qZA(),t.qZA()),2&o){const i=t.oxw(2);t.xp6(10),t.Q6J("ngForOf",i.classList)}}function O(o,d){if(1&o){const i=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"div",10),t.TgZ(2,"div",11),t.TgZ(3,"div",12),t.TgZ(4,"input",13),t.NdJ("ngModelChange",function(e){return t.CHM(i),t.oxw().classeditValue=e})("keyup",function(e){return t.CHM(i),t.oxw().onClassFilter(e.target.value)}),t.qZA(),t.qZA(),t.TgZ(5,"div",14),t.TgZ(6,"button",15),t.NdJ("click",function(){return t.CHM(i),t.oxw().onAddNewClass()}),t._uU(7),t.YNc(8,D,1,0,"i",16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",17),t.YNc(10,b,2,0,"div",18),t.YNc(11,w,11,1,"table",19),t.qZA(),t.qZA(),t.qZA()}if(2&o){const i=t.oxw();t.xp6(4),t.Q6J("ngModel",i.classeditValue),t.xp6(2),t.Q6J("disabled",i.classList.length>0||i.addLoader),t.xp6(1),t.hij(" ",i.addLoader?"":"Add","\xa0"),t.xp6(1),t.Q6J("ngIf",i.addLoader),t.xp6(2),t.Q6J("ngIf",i.dataFetch),t.xp6(1),t.Q6J("ngIf",!i.dataFetch)}}const p=c(35226);let L=(()=>{class o{constructor(i,n,e,a,s){this.apiService=i,this.dialog=n,this.spinner=e,this.toster=a,this.dialogRef=s,this.isClassFilter=!0,this.addLoader=!1,this.classeditIndex=-1,this.dataFetch=!1,this.classList=[],this.class=[]}ngOnInit(){this.clear(),this.dataFetch=!0,this.addLoader=!1,this.apiService.getTypeRequest("dropdown_data/CLASS").subscribe(i=>{this.classList=i.data,this.class=i.data,this.dataFetch=!1})}clear(){this.classeditValue=""}classeditClick(i,n){this.classeditValue=n.name,this.classeditIndex=i}updateClass(i){this.addLoader=!0,this.dataFetch=!0;var n={item_id:i,item_name:this.classeditValue};const e=p.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Are you sure, you want to Update?",text:"Perviously registered data will be affected!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(a=>{a.value?this.apiService.postTypeRequest("update_item/CLASS",n).toPromise().then(s=>{s.result?(this.toster.warning("Data Updated"),e.fire("Updated!",s.message,"success"),this.ngOnInit()):(e.fire("Cancelled",s.message,"error"),this.addLoader=!1,this.dataFetch=!1)}):(this.addLoader=!1,this.dataFetch=!1)}),this.classeditIndex=-1,this.dialogRef.close(!0)}onClassFilter(i){this.classeditValue=i,this.classList=[],this.class.filter(n=>{n.name.toLowerCase().includes(i.toLowerCase())&&this.classList.push(n)})}onAddNewClass(){this.addLoader=!0,this.dataFetch=!0;const i=p.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});this.classeditValue.length>0&&this.apiService.postTypeRequest("register_new_item/CLASS",{item_name:this.classeditValue}).subscribe(e=>{e.result?(this.class=e.data,this.classList=e.data,this.ngOnInit(),this.toster.success("New Data Added"),i.fire("Added!",e.message,"success")):(this.addLoader=!1,this.dataFetch=!1)}),this.classeditValue="",this.dialogRef.close(!0)}onDeleteClass(i){return(0,m.mG)(this,void 0,void 0,function*(){this.dataFetch=!0;var n={item_id:i};const e=p.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Are you sure, you want to delete?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(a=>{a.value?this.apiService.postTypeRequest("delete_item/CLASS",n).toPromise().then(s=>{s.result?(this.toster.warning("Data deleted"),e.fire("Deleted!",s.message,"success"),this.ngOnInit()):(e.fire("Cancelled",s.message,"error"),this.addLoader=!1,this.dataFetch=!1)}):(this.addLoader=!1,this.dataFetch=!1)})})}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(f.s),t.Y36(x.x),t.Y36(Z.V),t.Y36(T._W),t.Y36(C.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-class"]],decls:12,vars:2,consts:[[1,"row"],[1,"col"],["id","accordionoc",1,"default-according","style-1","faq-accordion","job-accordion"],[1,"col-xl-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],["aria-controls","collapse",1,"btn","btn-link","pl-0",3,"click"],["class","collapse show",4,"ngIf"],[1,"collapse","show"],[1,"card-body","filter-cards-view","animate-chk"],[1,"job-filter","row"],[1,"faq-form","col-8"],["type","text","placeholder","Class",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-4"],["type","button",1,"btn","btn-success","text-center","float-right",3,"disabled","click"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],[1,"table-responsive","mt-3","mb-3",2,"height","40.5vh"],["class","loader-box center",4,"ngIf"],["class","table",4,"ngIf"],[1,"fa","fa-circle-o-notch","fa-spin"],[1,"loader-box","center"],[1,"rotate","dashed"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"width","12rem"],["type","text",1,"form-control",3,"ngModelOptions","value","keyup"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","btn-success",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","btn-danger","ml-2",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-file",1,"p-button-rounded","btn-success",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","btn-danger","ml-2",2,"height","35px","width","35px",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",0),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"h5",6),t.TgZ(8,"button",7),t.NdJ("click",function(){return n.isClassFilter=!n.isClassFilter}),t.TgZ(9,"h5"),t._uU(10,"Class"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(11,O,12,6,"div",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(8),t.uIk("aria-expanded",!n.isClassFilter),t.xp6(3),t.Q6J("ngIf",n.isClassFilter))},directives:[u.O5,r.Fj,r.JJ,r.On,u.sg,h.Hq,A.H],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),o})()},52554:(B,v,c)=>{c.d(v,{B:()=>d});var m=c(70655),t=c(5e3),f=c(21242),x=c(70812),Z=c(34578),T=c(64383),C=c(72308),u=c(69808),r=c(93075),h=c(40845),A=c(25787);function D(i,n){1&i&&t._UZ(0,"i",21)}function b(i,n){1&i&&(t.TgZ(0,"div",22),t._UZ(1,"span",23),t.qZA())}function y(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.name)}}const g=function(){return{standalone:!0}};function M(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",28),t.NdJ("keyup",function(s){return t.CHM(e),t.oxw(4).DepeditValue=s.target.value}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(4);t.xp6(1),t.s9C("value",e.DepeditValue),t.Q6J("ngModelOptions",t.DdM(2,g))}}function I(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.dept_code)}}function E(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",28),t.NdJ("keyup",function(s){return t.CHM(e),t.oxw(4).DepCodeeditValue=s.target.value}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(4);t.xp6(1),t.s9C("value",e.DepCodeeditValue),t.Q6J("ngModelOptions",t.DdM(2,g))}}function q(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",29),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(),_=s.index,l=s.$implicit;return t.oxw(3).DepeditClick(_,l)}),t.qZA(),t.TgZ(2,"button",30),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(3).onDeleteDep(s.id)}),t.qZA(),t.qZA()}}function w(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",31),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(3).updateDep(s.id)}),t.qZA(),t.TgZ(2,"button",32),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(4);return s.DepeditIndex=-1,s.clear()}),t.qZA(),t.qZA()}}function O(i,n){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,y,2,1,"div",26),t.YNc(5,M,2,3,"div",26),t.qZA(),t.TgZ(6,"td"),t.YNc(7,I,2,1,"div",26),t.YNc(8,E,2,3,"div",26),t.qZA(),t.TgZ(9,"td",27),t.YNc(10,q,3,0,"div",26),t.YNc(11,w,3,0,"div",26),t.qZA(),t.qZA()),2&i){const e=n.index,a=t.oxw(3);t.xp6(2),t.hij(" ",e+1," "),t.xp6(2),t.Q6J("ngIf",a.DepeditIndex!=e),t.xp6(1),t.Q6J("ngIf",a.DepeditIndex==e),t.xp6(2),t.Q6J("ngIf",a.DepeditIndex!=e),t.xp6(1),t.Q6J("ngIf",a.DepeditIndex==e),t.xp6(2),t.Q6J("ngIf",a.DepeditIndex!=e),t.xp6(1),t.Q6J("ngIf",a.DepeditIndex==e)}}function p(i,n){if(1&i&&(t.TgZ(0,"table",24),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4,"SlNo"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Code"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Actions"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"tbody"),t.YNc(12,O,12,7,"tr",25),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(12),t.Q6J("ngForOf",e.DepList)}}function L(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"div",10),t.TgZ(2,"div",11),t.TgZ(3,"div",12),t.TgZ(4,"input",13),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().DepeditValue=s})("keyup",function(s){t.CHM(e);const _=t.oxw();return _.DepeditValue=s.target.value,_.onDepFilter(s.target.value)}),t.qZA(),t.qZA(),t.TgZ(5,"div",12),t.TgZ(6,"input",14),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().DepCodeeditValue=s})("keyup",function(s){t.CHM(e);const _=t.oxw();return _.DepCodeeditValue=s.target.value,_.onDepCodeFilter(s.target.value)}),t.qZA(),t.qZA(),t.TgZ(7,"div",15),t.TgZ(8,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAddNewDep()}),t._uU(9),t.YNc(10,D,1,0,"i",17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",18),t.YNc(12,b,2,0,"div",19),t.YNc(13,p,13,1,"table",20),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.DepeditValue),t.xp6(2),t.Q6J("ngModel",e.DepCodeeditValue),t.xp6(2),t.Q6J("disabled",e.DepList.length>0||e.addLoader),t.xp6(1),t.hij(" ",e.addLoader?"":"Add","\xa0"),t.xp6(1),t.Q6J("ngIf",e.addLoader),t.xp6(2),t.Q6J("ngIf",e.dataFetch),t.xp6(1),t.Q6J("ngIf",!e.dataFetch)}}const o=c(35226);let d=(()=>{class i{constructor(e,a,s,_,l){this.apiService=e,this.dialog=a,this.spinner=s,this.toster=_,this.dialogRef=l,this.isDepFilter=!0,this.addLoader=!1,this.DepeditIndex=-1,this.dataFetch=!1,this.DepList=[],this.dep=[]}ngOnInit(){this.clear(),this.dataFetch=!0,this.addLoader=!1,this.DepeditValue="",this.DepCodeeditValue="",this.apiService.getTypeRequest("dropdown_data/DEPARTMENT").subscribe(e=>{this.DepList=e.data,this.dep=e.data,this.dataFetch=!1})}clear(){this.DepeditValue="",this.DepCodeeditValue=""}DepeditClick(e,a){this.DepeditValue=a.name,this.DepCodeeditValue=a.dept_code,this.DepeditIndex=e}updateDep(e){this.addLoader=!0,this.dataFetch=!0;var a={dept_id:e,dept_name:this.DepeditValue,dept_code:this.DepCodeeditValue};const s=o.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});s.fire({title:"Are you sure, you want to Update?",text:"Perviously registered data will be affected!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(_=>{_.value?this.apiService.postTypeRequest("update_dept",a).toPromise().then(l=>{l.result?(this.toster.warning("Data Updated"),s.fire("Updated!",l.message,"success"),this.ngOnInit()):(s.fire("Cancelled",l.message,"error"),this.addLoader=!1,this.dataFetch=!1)}):(this.addLoader=!1,this.dataFetch=!1)}),this.DepeditIndex=-1,this.dialogRef.close(!0)}onDepFilter(e){this.DepList=[],this.dep.filter(a=>{a.name.toLowerCase().includes(e.toLowerCase())&&this.DepList.push(a)})}onDepCodeFilter(e){this.DepList=[],this.dep.filter(a=>{a.dept_code.toLowerCase().includes(e.toLowerCase())&&this.DepList.push(a)})}onAddNewDep(){this.addLoader=!0,this.dataFetch=!0;const e=o.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});this.DepeditValue.length>0&&this.DepCodeeditValue.length>0&&this.apiService.postTypeRequest("register_dept",{dept_name:this.DepeditValue,dept_code:this.DepCodeeditValue}).subscribe(s=>{s.result?(this.DepList=s.data,this.dep=s.data,this.ngOnInit(),this.toster.success("New Data Added"),e.fire("Added!",s.message,"success")):(this.addLoader=!1,this.dataFetch=!1)}),this.DepeditValue="",this.dialogRef.close(!0)}onDeleteDep(e){return(0,m.mG)(this,void 0,void 0,function*(){this.dataFetch=!0;var a={item_id:e};const s=o.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});s.fire({title:"Are you sure, you want to delete?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(_=>{_.value?this.apiService.postTypeRequest("delete_item/DEPARTMENT",a).toPromise().then(l=>{l.result?(this.toster.warning("Data deleted"),s.fire("Deleted!",l.message,"success"),this.ngOnInit()):(s.fire("Cancelled",l.message,"error"),this.addLoader=!1,this.dataFetch=!1)}):(this.addLoader=!1,this.dataFetch=!1)})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.s),t.Y36(x.x),t.Y36(Z.V),t.Y36(T._W),t.Y36(C.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-department"]],decls:12,vars:2,consts:[[1,"row"],[1,"col"],["id","accordionoc",1,"default-according","style-1","faq-accordion","job-accordion"],[1,"col-xl-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],["aria-controls","collapse",1,"btn","btn-link","pl-0",3,"click"],["class","collapse show",4,"ngIf"],[1,"collapse","show"],[1,"card-body","filter-cards-view","animate-chk"],[1,"job-filter","row"],[1,"faq-form","col-4"],["type","text","placeholder","Dep",1,"form-control",3,"ngModel","ngModelChange","keyup"],["type","text","placeholder","Dep Code",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-4"],["type","button",1,"btn","btn-success","text-center","float-right",3,"disabled","click"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],[1,"table-responsive","mt-3","mb-3",2,"height","40.5vh"],["class","loader-box center",4,"ngIf"],["class","table",4,"ngIf"],[1,"fa","fa-circle-o-notch","fa-spin"],[1,"loader-box","center"],[1,"rotate","dashed"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"width","12rem"],["type","text",1,"form-control",3,"ngModelOptions","value","keyup"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","btn-success",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","btn-danger","ml-2",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-file",1,"p-button-rounded","btn-success",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","btn-danger","ml-2",2,"height","35px","width","35px",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",0),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"h5",6),t.TgZ(8,"button",7),t.NdJ("click",function(){return a.isDepFilter=!a.isDepFilter}),t.TgZ(9,"h5"),t._uU(10,"Departments"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(11,L,14,7,"div",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.uIk("aria-expanded",!a.isDepFilter),t.xp6(3),t.Q6J("ngIf",a.isDepFilter))},directives:[u.O5,r.Fj,r.JJ,r.On,u.sg,h.Hq,A.H],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),i})()},31055:(B,v,c)=>{c.d(v,{L:()=>L});var m=c(70655),t=c(5e3),f=c(21242),x=c(70812),Z=c(34578),T=c(64383),C=c(72308),u=c(69808),r=c(93075),h=c(40845),A=c(25787);function D(o,d){1&o&&t._UZ(0,"i",20)}function b(o,d){1&o&&(t.TgZ(0,"div",21),t._UZ(1,"span",22),t.qZA())}function y(o,d){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.name)}}const g=function(){return{standalone:!0}};function M(o,d){if(1&o){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",27),t.NdJ("keyup",function(e){return t.CHM(i),t.oxw(4).diveditValue=e.target.value}),t.qZA(),t.qZA()}if(2&o){const i=t.oxw(4);t.xp6(1),t.s9C("value",i.diveditValue),t.Q6J("ngModelOptions",t.DdM(2,g))}}function I(o,d){if(1&o){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",28),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(),a=e.index,s=e.$implicit;return t.oxw(3).diveditClick(a,s)}),t.qZA(),t.TgZ(2,"button",29),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit;return t.oxw(3).onDeleteDiv(e.id)}),t.qZA(),t.qZA()}}function E(o,d){if(1&o){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",30),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit;return t.oxw(3).updateDiv(e.id)}),t.qZA(),t.TgZ(2,"button",31),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(4);return e.diveditIndex=-1,e.clear()}),t.qZA(),t.qZA()}}function q(o,d){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,y,2,1,"div",25),t.YNc(5,M,2,3,"div",25),t.qZA(),t.TgZ(6,"td",26),t.YNc(7,I,3,0,"div",25),t.YNc(8,E,3,0,"div",25),t.qZA(),t.qZA()),2&o){const i=d.index,n=t.oxw(3);t.xp6(2),t.hij(" ",i+1," "),t.xp6(2),t.Q6J("ngIf",n.diveditIndex!=i),t.xp6(1),t.Q6J("ngIf",n.diveditIndex==i),t.xp6(2),t.Q6J("ngIf",n.diveditIndex!=i),t.xp6(1),t.Q6J("ngIf",n.diveditIndex==i)}}function w(o,d){if(1&o&&(t.TgZ(0,"table",23),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4,"SlNo"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Actions"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"tbody"),t.YNc(10,q,9,5,"tr",24),t.qZA(),t.qZA()),2&o){const i=t.oxw(2);t.xp6(10),t.Q6J("ngForOf",i.divList)}}function O(o,d){if(1&o){const i=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"div",10),t.TgZ(2,"div",11),t.TgZ(3,"div",12),t.TgZ(4,"input",13),t.NdJ("ngModelChange",function(e){return t.CHM(i),t.oxw().diveditValue=e})("keyup",function(e){return t.CHM(i),t.oxw().onDivFilter(e.target.value)}),t.qZA(),t.qZA(),t.TgZ(5,"div",14),t.TgZ(6,"button",15),t.NdJ("click",function(){return t.CHM(i),t.oxw().onAddNewDiv()}),t._uU(7),t.YNc(8,D,1,0,"i",16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",17),t.YNc(10,b,2,0,"div",18),t.YNc(11,w,11,1,"table",19),t.qZA(),t.qZA(),t.qZA()}if(2&o){const i=t.oxw();t.xp6(4),t.Q6J("ngModel",i.diveditValue),t.xp6(2),t.Q6J("disabled",i.divList.length>0||i.addLoader),t.xp6(1),t.hij(" ",i.addLoader?"":"Add","\xa0"),t.xp6(1),t.Q6J("ngIf",i.addLoader),t.xp6(2),t.Q6J("ngIf",i.dataFetch),t.xp6(1),t.Q6J("ngIf",!i.dataFetch)}}const p=c(35226);let L=(()=>{class o{constructor(i,n,e,a,s){this.apiService=i,this.dialog=n,this.spinner=e,this.toster=a,this.dialogRef=s,this.isDivFilter=!0,this.addLoader=!1,this.diveditIndex=-1,this.dataFetch=!1,this.divList=[],this.div=[]}ngOnInit(){this.clear(),this.dataFetch=!0,this.addLoader=!1,this.apiService.getTypeRequest("dropdown_data/DIVISION").subscribe(i=>{this.divList=i.data,this.div=i.data,this.dataFetch=!1})}clear(){this.diveditValue=""}diveditClick(i,n){this.diveditValue=n.name,this.diveditIndex=i}updateDiv(i){this.addLoader=!0,this.dataFetch=!0;var n={item_id:i,item_name:this.diveditValue};const e=p.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Are you sure, you want to Update?",text:"Perviously registered data will be affected!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(a=>{a.value?this.apiService.postTypeRequest("update_item/DIVISION",n).toPromise().then(s=>{s.result?(this.toster.warning("Data Updated"),e.fire("Updated!",s.message,"success"),this.ngOnInit()):(e.fire("Cancelled",s.message,"error"),this.addLoader=!1,this.dataFetch=!1)}):(this.addLoader=!1,this.dataFetch=!1)}),this.diveditIndex=-1,this.dialogRef.close(!0)}onDivFilter(i){this.diveditValue=i,this.divList=[],this.div.filter(n=>{n.name.toLowerCase().includes(i.toLowerCase())&&this.divList.push(n)})}onAddNewDiv(){this.addLoader=!0,this.dataFetch=!0;const i=p.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});this.diveditValue.length>0&&this.apiService.postTypeRequest("register_new_item/DIVISION",{item_name:this.diveditValue}).subscribe(e=>{e.result?(this.div=e.data,this.divList=e.data,this.ngOnInit(),this.toster.success("New Data Added"),i.fire("Added!",e.message,"success")):(this.addLoader=!1,this.dataFetch=!1)}),this.diveditValue="",this.dialogRef.close(!0)}onDeleteDiv(i){return(0,m.mG)(this,void 0,void 0,function*(){this.dataFetch=!0;var n={item_id:i};const e=p.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Are you sure, you want to delete?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(a=>{a.value?this.apiService.postTypeRequest("delete_item/DIVISION",n).toPromise().then(s=>{s.result?(this.toster.warning("Data deleted"),e.fire("Deleted!",s.message,"success"),this.ngOnInit()):(e.fire("Cancelled",s.message,"error"),this.addLoader=!1,this.dataFetch=!1)}):(this.addLoader=!1,this.dataFetch=!1)})})}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(f.s),t.Y36(x.x),t.Y36(Z.V),t.Y36(T._W),t.Y36(C.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-division"]],decls:12,vars:2,consts:[[1,"row"],[1,"col"],["id","accordionoc",1,"default-according","style-1","faq-accordion","job-accordion"],[1,"col-xl-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],["aria-controls","collapse",1,"btn","btn-link","pl-0",3,"click"],["class","collapse show",4,"ngIf"],[1,"collapse","show"],[1,"card-body","filter-cards-view","animate-chk"],[1,"job-filter","row"],[1,"faq-form","col-8"],["type","text","placeholder","data",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-4"],["type","button",1,"btn","btn-success","text-center","float-right",3,"disabled","click"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],[1,"table-responsive","mt-3","mb-3",2,"height","40.5vh"],["class","loader-box center",4,"ngIf"],["class","table",4,"ngIf"],[1,"fa","fa-circle-o-notch","fa-spin"],[1,"loader-box","center"],[1,"rotate","dashed"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"width","12rem"],["type","text",1,"form-control",3,"ngModelOptions","value","keyup"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","btn-success",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","btn-danger","ml-2",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-file",1,"p-button-rounded","btn-success",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","btn-danger","ml-2",2,"height","35px","width","35px",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",0),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"h5",6),t.TgZ(8,"button",7),t.NdJ("click",function(){return n.isDivFilter=!n.isDivFilter}),t.TgZ(9,"h5"),t._uU(10,"Divisions"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(11,O,12,6,"div",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(8),t.uIk("aria-expanded",!n.isDivFilter),t.xp6(3),t.Q6J("ngIf",n.isDivFilter))},directives:[u.O5,r.Fj,r.JJ,r.On,u.sg,h.Hq,A.H],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),o})()}}]);