"use strict";(self.webpackChunkendless_starterkit=self.webpackChunkendless_starterkit||[]).push([[838],{71838:(S,T,d)=>{d.r(T),d.d(T,{EmployeeModule:()=>uo});var c=d(69808),Z=d(74202),n=d(93075),e=d(5e3),C=d(58219),s=d(21242),u=d(16256),A=d(64383),q=d(45231),U=d(61676),x=d(40845),b=d(25787),Y=d(4119),N=d(49150),w=d(98952),I=d(59783);function P(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"div",17),e.TgZ(2,"div",8),e.TgZ(3,"div",18),e.TgZ(4,"div",19),e.TgZ(5,"label",20),e._uU(6,"ID"),e.qZA(),e.TgZ(7,"input",21),e.NdJ("keyup",function(r){return e.CHM(o),e.oxw().onFilterData(r.target.value)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",18),e.TgZ(9,"div",19),e.TgZ(10,"label",22),e._uU(11,"Name"),e.qZA(),e.TgZ(12,"input",23),e.NdJ("keyup",function(r){return e.CHM(o),e.oxw().onFilterData(r.target.value)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",18),e.TgZ(14,"div",19),e.TgZ(15,"label",24),e._uU(16,"Join Date"),e.qZA(),e.TgZ(17,"input",25),e.NdJ("keyup",function(r){return e.CHM(o),e.oxw().onFilterData(r.target.value)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",26),e.TgZ(19,"div",19),e.TgZ(20,"label",27),e._uU(21,"Mobile"),e.qZA(),e.TgZ(22,"input",28),e.NdJ("keyup",function(r){return e.CHM(o),e.oxw().onFilterData(r.target.value)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",29),e.TgZ(24,"div",30),e.TgZ(25,"p"),e._uU(26,"Export :"),e.qZA(),e.TgZ(27,"div",31),e.TgZ(28,"button",32),e.NdJ("click",function(){return e.CHM(o),e.oxw().exportCsv()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",33),e.TgZ(30,"button",34),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return r.filterForm.reset(),r.onFilterData("")}),e._uU(31," Clear "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.oxw();e.xp6(7),e.Q6J("formControl",o.filterForm.controls.EmpId),e.xp6(5),e.Q6J("formControl",o.filterForm.controls.employeeName),e.xp6(5),e.Q6J("formControl",o.filterForm.controls.JoinDate),e.xp6(5),e.Q6J("formControl",o.filterForm.controls.mobile)}}function O(t,l){1&t&&(e.TgZ(0,"div",40),e._UZ(1,"span",41),e.qZA())}function Q(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"div",43),e.TgZ(1,"div",44),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(3).employeeDetails(a)}),e.TgZ(2,"div",45),e.TgZ(3,"div",11),e._UZ(4,"img",46),e.qZA(),e._UZ(5,"img",47),e.qZA(),e.TgZ(6,"div",48),e.TgZ(7,"h5",49),e._uU(8),e.ALo(9,"uppercase"),e.qZA(),e.TgZ(10,"h6"),e._uU(11," ID: "),e.TgZ(12,"b"),e._uU(13),e.qZA(),e.qZA(),e._UZ(14,"hr",50),e.TgZ(15,"div",8),e.TgZ(16,"div",51),e.TgZ(17,"span"),e._uU(18,"DOJ"),e.qZA(),e._UZ(19,"br"),e.qZA(),e.TgZ(20,"div",52),e.TgZ(21,"span",49),e.TgZ(22,"b"),e._uU(23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",8),e.TgZ(25,"div",51),e.TgZ(26,"span"),e._uU(27,"Mobile"),e.qZA(),e._UZ(28,"br"),e.qZA(),e.TgZ(29,"div",52),e.TgZ(30,"span",49),e.TgZ(31,"b"),e._uU(32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=l.$implicit;e.xp6(5),e.s9C("src",o.photo,e.LSH),e.xp6(3),e.hij(" ",e.lcZ(9,5,o.employee_name)," "),e.xp6(5),e.Oqu(o.employee_no),e.xp6(10),e.Oqu(o.joining_date),e.xp6(9),e.Oqu(o.mobile)}}function M(t,l){if(1&t&&(e.TgZ(0,"div",8),e.YNc(1,Q,33,7,"div",42),e.ALo(2,"slice"),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,1,o.EmployeeList,(o.page-1)*o.pageSize,o.page*o.pageSize))}}function R(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"div",35),e.TgZ(1,"div",9),e.YNc(2,O,2,0,"div",36),e.YNc(3,M,3,5,"div",37),e.TgZ(4,"ngb-pagination",38,39),e.NdJ("pageChange",function(r){return e.CHM(o),e.oxw().page=r}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.dataFetch),e.xp6(1),e.Q6J("ngIf",!o.dataFetch),e.xp6(1),e.Q6J("pageSize",o.pageSize)("rotate",!0)("maxSize",5)("boundaryLinks",!0)("ellipses",!1)("collectionSize",o.EmployeeList.length)("page",o.page)}}function B(t,l){1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"th"),e._uU(2,"SlNo"),e.qZA(),e.TgZ(3,"th",58),e._uU(4,"Name "),e._UZ(5,"p-sortIcon",59),e.qZA(),e.TgZ(6,"th",60),e._uU(7,"Employee No"),e._UZ(8,"p-sortIcon",61),e.qZA(),e.TgZ(9,"th",62),e._uU(10,"Joining Date"),e._UZ(11,"p-sortIcon",63),e.qZA(),e.TgZ(12,"th",64),e._uU(13,"Mobile No "),e._UZ(14,"p-sortIcon",65),e.qZA(),e.qZA())}function G(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"tr",66),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).employeeDetails(a)}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",67),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.qZA()}if(2&t){const o=l.$implicit,i=l.rowIndex;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.s9C("src",o.photo,e.LSH),e.Q6J("alt",o.employee_name),e.xp6(1),e.hij(" ",o.employee_name,""),e.xp6(2),e.Oqu(o.employee_no),e.xp6(2),e.Oqu(o.joining_date),e.xp6(2),e.Oqu(o.mobile)}}const L=function(){return[10,25,50]};function j(t,l){if(1&t&&(e.TgZ(0,"div",35),e.TgZ(1,"div",9),e.TgZ(2,"div",10),e.TgZ(3,"div",53),e.TgZ(4,"div",54),e.TgZ(5,"p-table",55),e.YNc(6,B,15,0,"ng-template",56),e.YNc(7,G,12,7,"ng-template",57),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const o=e.oxw();e.xp6(5),e.Q6J("value",o.EmployeeList)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(5,L))}}let H=(()=>{class t{constructor(o,i,r,a,p,m){this.exportexcel=o,this.router=i,this.apiService=r,this.authService=a,this.toast=p,this.employeeService=m,this.layout="grid",this.isFilter=!0,this.dataFetch=!1,this.EmployeeList=[],this.Employees=[],this.page=1,this.pageSize=12,this.filterForm=new n.cw({employeeName:new n.NI(""),EmpId:new n.NI(""),JoinDate:new n.NI(""),mobile:new n.NI("")})}ngOnInit(){this.fetchApiData()}fetchApiData(){this.dataFetch=!0,this.apiService.getTypeRequest("new_table_data/ALL_EMPLOYEES").subscribe(o=>{o.result?(this.dataFetch=!1,this.Employees=o.data,this.EmployeeList=this.Employees):this.toast.error(o.message),this.dataFetch=!1})}employeeDetails(o){this.employeeService.setSelectedEmployee(o),this.employeeService.setSelectedTab("Profile"),this.router.navigate(["/employee/employeeInfo"])}onFilterData(o){this.EmployeeList=[],this.Employees.some(i=>{(i.employee_name.toLowerCase().includes(o)||i.joining_date.includes(o)||i.mobile.includes(o)||i.employee_no.includes(o))&&this.EmployeeList.push(i)})}exportCsv(){this.exportexcel.exportAsExcelFile(this.EmployeeList,"Employee List")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(C.x),e.Y36(Z.F0),e.Y36(s.s),e.Y36(u.e),e.Y36(A._W),e.Y36(q.G))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-all-employees"]],decls:22,vars:6,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between"],["role","group","aria-label","Basic example",1,"btn-group"],[1,"square-product-setting","d-inline-block"],["data-original-title","","title","",1,"icon-grid","grid-layout-view",3,"click"],[3,"icon"],["data-original-title","","title","",1,"icon-grid","m-0","list-layout-view",3,"click"],["id","accordionoc",1,"default-according","style-1","faq-accordion","job-accordion"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],["aria-controls","collapse",1,"btn","btn-link","pl-0",3,"click"],["class","collapse show",4,"ngIf"],["class","col",4,"ngIf"],[1,"collapse","show"],[1,"card-body","filter-cards-view","animate-chk"],[1,"col-xl-3","col-md-6","col-sm-12"],[1,"faq-form"],["for","emp_id"],["type","text","id","emp_id","placeholder","Search..",1,"form-control",3,"formControl","keyup"],["for","emp_name"],["type","text","id","emp_name","placeholder","Search..",1,"form-control",3,"formControl","keyup"],["for","emp_jod"],["type","text","id","emp_jod","placeholder","Search..",1,"form-control",3,"formControl","keyup"],[1,"col-xl-3","col-md-6","col-sm-12","mb-3"],["for","emp_no"],["type","text","id","emp_no","placeholder","Search..",1,"form-control",3,"formControl","keyup"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-sm-12"],[1,"flex","col-2"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","XLS","tooltipPosition","bottom",1,"btn-success","mr-2",3,"click"],[1,"col-xl-3","col-md-6","col-sm-12","float-right"],[1,"btn","btn-primary","text-center","align-self-center",3,"click"],[1,"col"],["class","loader-box center",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","mb-3",3,"pageSize","rotate","maxSize","boundaryLinks","ellipses","collectionSize","page","pageChange"],["paginator",""],[1,"loader-box","center"],[1,"rotate","dashed"],["class","col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4","col-xl-3"],[1,"card","custom-card",2,"cursor","pointer",3,"click"],[1,"card-profile"],["src","assets/images/faq/2.jpg","alt","",1,"img-fluid"],["alt","",1,"rounded-circle",2,"margin-top","-4rem",3,"src"],[1,"text-center","profile-details"],[2,"text-overflow","ellipsis","overflow","hidden","white-space","nowrap"],[2,"margin-top","-1rem"],[1,"col-6"],[1,"col-6",2,"margin-left","-20px"],[1,"card-body"],[1,"custom-datatable"],["selectionMode","single","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","first_name"],["field","first_name"],["pSortableColumn","employee_no"],["field","employee_no"],["pSortableColumn","joining_date"],["field","joining_date"],["pSortableColumn","mobile"],["field","mobile"],[2,"cursor","pointer",3,"click"],["height","50px","width","50px",1,"middle",2,"border-radius","50%",3,"src","alt"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3"),e._uU(3,"Employees"),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"a",4),e.NdJ("click",function(){return i.layout="grid"}),e._UZ(7,"app-feather-icons",5),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.TgZ(9,"a",6),e.NdJ("click",function(){return i.layout="list"}),e._UZ(10,"app-feather-icons",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.TgZ(13,"div",9),e.TgZ(14,"div",10),e.TgZ(15,"div",11),e.TgZ(16,"h5",12),e.TgZ(17,"button",13),e.NdJ("click",function(){return i.isFilter=!i.isFilter}),e._uU(18," Filter "),e.qZA(),e.qZA(),e.qZA(),e.YNc(19,P,32,4,"div",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(20,R,6,9,"div",15),e.YNc(21,j,8,6,"div",15),e.qZA()),2&o&&(e.xp6(7),e.Q6J("icon","grid"),e.xp6(3),e.Q6J("icon","list"),e.xp6(7),e.uIk("aria-expanded",!i.isFilter),e.xp6(2),e.Q6J("ngIf",i.isFilter),e.xp6(1),e.Q6J("ngIf","grid"==i.layout),e.xp6(1),e.Q6J("ngIf","list"==i.layout))},directives:[U.A,c.O5,n.Fj,n.JJ,n.oH,x.Hq,b.H,Y.u,N.N9,c.sg,w.iA,I.jx,w.lQ,w.fz],pipes:[c.OU,c.gd],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:baseline}@media only screen and (max-width: 1201) and (max-width: 1500){.col-xl-3[_ngcontent-%COMP%]{width:25%}.cardBgImage[_ngcontent-%COMP%]{margin-top:-63%}}@media only screen and (min-width: 1501){.col-xl-3[_ngcontent-%COMP%]{width:20%}}@media only screen and (min-width: 1200){.studentCard[_ngcontent-%COMP%]{width:30%}}"]}),t})();var y=d(72308),z=d(38375),V=d(96035),X=d(35804),W=d(7527),$=d(25203),h=d(79189),F=d(15091);function K(t,l){1&t&&(e.TgZ(0,"div",3),e._UZ(1,"span",4),e.qZA())}function ee(t,l){1&t&&e._UZ(0,"input",121)}function oe(t,l){1&t&&e._UZ(0,"input",122)}function te(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," First Name is required. "),e.qZA())}function ie(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Middle Name is required. "),e.qZA())}function ne(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Last Name is required. "),e.qZA())}function re(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Date Of Birth is required. "),e.qZA())}function le(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Joining Date is required. "),e.qZA())}function ae(t,l){if(1&t&&(e.TgZ(0,"option",124),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.s9C("value",o.id),e.xp6(1),e.hij(" ",o.name,"")}}function de(t,l){if(1&t&&(e.TgZ(0,"option",124),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.s9C("value",o.id),e.xp6(1),e.hij(" ",o.name,"")}}function pe(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Gender is required. "),e.qZA())}function ce(t,l){if(1&t&&(e.TgZ(0,"option",124),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.s9C("value",o.id),e.xp6(1),e.hij(" ",o.name,"")}}function se(t,l){if(1&t&&(e.TgZ(0,"option",124),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.s9C("value",o.id),e.xp6(1),e.hij(" ",o.name,"")}}function me(t,l){if(1&t&&(e.TgZ(0,"option",124),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.s9C("value",o.id),e.xp6(1),e.hij(" ",o.name,"")}}function ue(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Number should be min 10 digits. "),e.qZA())}function _e(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Number should be max 12 digits. "),e.qZA())}function ge(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Email is required. "),e.qZA())}function fe(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Email pattern is required. "),e.qZA())}function Ze(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Nationality is required. "),e.qZA())}function ye(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Permanent Address is required. "),e.qZA())}function he(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," City is required. "),e.qZA())}function ve(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Pin is required. "),e.qZA())}function Te(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Taluka is required. "),e.qZA())}function Ae(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," District is required. "),e.qZA())}function qe(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," State is required. "),e.qZA())}function xe(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Country is required. "),e.qZA())}function be(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Current Address is required. "),e.qZA())}function Ne(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," City is required. "),e.qZA())}function Ce(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Pin is required. "),e.qZA())}function we(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Taluka is required. "),e.qZA())}function Ue(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," District is required. "),e.qZA())}function Ie(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," State is required. "),e.qZA())}function Fe(t,l){1&t&&(e.TgZ(0,"div",123),e._uU(1," Country is required. "),e.qZA())}function De(t,l){1&t&&e._UZ(0,"i",125)}const Je=function(){return{symbol:"\uf007",fontFamily:"FontAwesome"}},ke=function(){return{symbol:"\uf279",fontFamily:"FontAwesome"}},Ee=function(){return{symbol:"\uf2bd",fontFamily:"FontAwesome"}};function Se(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"div",6),e.TgZ(2,"div",7),e.TgZ(3,"div",8),e.TgZ(4,"h5"),e._uU(5,"Employee Details"),e.qZA(),e.qZA(),e.TgZ(6,"div",9),e.TgZ(7,"aw-wizard",10),e.TgZ(8,"aw-wizard-step",11),e.TgZ(9,"form",12),e.TgZ(10,"div",13),e.TgZ(11,"div",14),e.TgZ(12,"div",15),e.TgZ(13,"div",16),e._UZ(14,"input",17),e.TgZ(15,"label",18),e._UZ(16,"app-feather-icons",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",20),e.TgZ(18,"label",21),e._uU(19,"Employee No"),e.qZA(),e.YNc(20,ee,1,0,"input",22),e.YNc(21,oe,1,0,"input",23),e.qZA(),e.TgZ(22,"div",24),e.TgZ(23,"label",25),e._uU(24,"First name "),e.TgZ(25,"span",26),e._uU(26,"*"),e.qZA(),e.qZA(),e._UZ(27,"input",27),e.YNc(28,te,2,0,"div",28),e.qZA(),e.TgZ(29,"div",24),e.TgZ(30,"label",29),e._uU(31,"Middle name "),e.TgZ(32,"span",26),e._uU(33,"*"),e.qZA(),e.qZA(),e._UZ(34,"input",30),e.YNc(35,ie,2,0,"div",28),e.qZA(),e.TgZ(36,"div",24),e.TgZ(37,"label",31),e._uU(38,"Last name "),e.TgZ(39,"span",26),e._uU(40,"*"),e.qZA(),e.qZA(),e._UZ(41,"input",32),e.YNc(42,ne,2,0,"div",28),e.qZA(),e.TgZ(43,"div",24),e.TgZ(44,"label",33),e._uU(45,"Date Of Birth "),e.TgZ(46,"span",26),e._uU(47,"*"),e.qZA(),e.qZA(),e._UZ(48,"input",34),e.YNc(49,re,2,0,"div",28),e.qZA(),e.TgZ(50,"div",24),e.TgZ(51,"label",35),e._uU(52,"Joining Date "),e.TgZ(53,"span",26),e._uU(54,"*"),e.qZA(),e.qZA(),e._UZ(55,"input",36),e.YNc(56,le,2,0,"div",28),e.qZA(),e.TgZ(57,"div",24),e.TgZ(58,"div",37),e.TgZ(59,"label",38),e._uU(60,"Blood Group "),e.qZA(),e.qZA(),e.TgZ(61,"div",5),e.TgZ(62,"select",39),e.TgZ(63,"option",40),e._uU(64,"Select a Blood Group"),e.qZA(),e.YNc(65,ae,2,2,"option",41),e.qZA(),e.TgZ(66,"button",42),e.NdJ("click",function(){return e.CHM(o),e.oxw().addBloodGroup()}),e.qZA(),e.qZA(),e.qZA(),e._UZ(67,"div",24),e.TgZ(68,"div",24),e.TgZ(69,"div",37),e.TgZ(70,"label",43),e._uU(71,"Gender "),e.TgZ(72,"span",26),e._uU(73,"*"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",5),e.TgZ(75,"select",44),e.TgZ(76,"option",40),e._uU(77,"Select a Gender"),e.qZA(),e.YNc(78,de,2,2,"option",41),e.qZA(),e.TgZ(79,"button",45),e.NdJ("click",function(){return e.CHM(o),e.oxw().addGender()}),e.qZA(),e.qZA(),e.YNc(80,pe,2,0,"div",28),e.qZA(),e.TgZ(81,"div",24),e.TgZ(82,"div",37),e.TgZ(83,"label",46),e._uU(84,"Religion "),e.qZA(),e.qZA(),e.TgZ(85,"div",5),e.TgZ(86,"select",47),e.TgZ(87,"option",40),e._uU(88,"Select a Religion"),e.qZA(),e.YNc(89,ce,2,2,"option",41),e.qZA(),e.TgZ(90,"button",48),e.NdJ("click",function(){return e.CHM(o),e.oxw().addReligion()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",24),e.TgZ(92,"div",37),e.TgZ(93,"label",49),e._uU(94,"Caste "),e.qZA(),e.qZA(),e.TgZ(95,"div",5),e.TgZ(96,"select",50),e.TgZ(97,"option",40),e._uU(98,"Select a Caste"),e.qZA(),e.YNc(99,se,2,2,"option",41),e.qZA(),e.TgZ(100,"button",51),e.NdJ("click",function(){return e.CHM(o),e.oxw().addCaste()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(101,"div",24),e.TgZ(102,"div",37),e.TgZ(103,"label",52),e._uU(104,"Category "),e.qZA(),e.qZA(),e.TgZ(105,"div",5),e.TgZ(106,"select",53),e.TgZ(107,"option",40),e._uU(108,"Select a Category"),e.qZA(),e.YNc(109,me,2,2,"option",41),e.qZA(),e.TgZ(110,"button",54),e.NdJ("click",function(){return e.CHM(o),e.oxw().addCategory()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(111,"div",55),e.TgZ(112,"label",56),e._uU(113,"Phone Number"),e.qZA(),e._UZ(114,"input",57),e.YNc(115,ue,2,0,"div",28),e.YNc(116,_e,2,0,"div",28),e.qZA(),e.TgZ(117,"div",55),e.TgZ(118,"label",58),e._uU(119,"Email"),e.qZA(),e.TgZ(120,"div",59),e.TgZ(121,"div",60),e.TgZ(122,"span",61),e._uU(123,"@"),e.qZA(),e.qZA(),e._UZ(124,"input",62),e.qZA(),e.YNc(125,ge,2,0,"div",28),e.YNc(126,fe,2,0,"div",28),e.qZA(),e.TgZ(127,"div",55),e.TgZ(128,"label",63),e._uU(129,"Nationality "),e.TgZ(130,"span",26),e._uU(131,"*"),e.qZA(),e.qZA(),e._UZ(132,"input",64),e.YNc(133,Ze,2,0,"div",28),e.qZA(),e.qZA(),e.TgZ(134,"div",65),e.TgZ(135,"button",66),e._uU(136," Next "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(137,"aw-wizard-step",67),e.TgZ(138,"form",12),e.TgZ(139,"div",13),e.TgZ(140,"div",68),e.TgZ(141,"div",69),e.TgZ(142,"div",5),e.TgZ(143,"div",70),e.TgZ(144,"label",71),e._uU(145,"Permanent Address"),e.qZA(),e._UZ(146,"textarea",72),e.YNc(147,ye,2,0,"div",28),e.qZA(),e.qZA(),e.TgZ(148,"div",5),e.TgZ(149,"div",73),e.TgZ(150,"label",74),e._uU(151,"City "),e.TgZ(152,"span",26),e._uU(153,"*"),e.qZA(),e.qZA(),e._UZ(154,"input",75),e.YNc(155,he,2,0,"div",28),e.qZA(),e.TgZ(156,"div",73),e.TgZ(157,"label",76),e._uU(158,"Pin "),e.TgZ(159,"span",26),e._uU(160,"*"),e.qZA(),e.qZA(),e._UZ(161,"input",77),e.YNc(162,ve,2,0,"div",28),e.qZA(),e.TgZ(163,"div",73),e.TgZ(164,"label",78),e._uU(165,"Taluka "),e.TgZ(166,"span",26),e._uU(167,"*"),e.qZA(),e.qZA(),e._UZ(168,"input",79),e.YNc(169,Te,2,0,"div",28),e.qZA(),e.TgZ(170,"div",73),e.TgZ(171,"label",80),e._uU(172,"District "),e.TgZ(173,"span",26),e._uU(174,"*"),e.qZA(),e.qZA(),e._UZ(175,"input",81),e.YNc(176,Ae,2,0,"div",28),e.qZA(),e.TgZ(177,"div",73),e.TgZ(178,"label",82),e._uU(179,"State "),e.TgZ(180,"span",26),e._uU(181,"*"),e.qZA(),e.qZA(),e._UZ(182,"input",83),e.YNc(183,qe,2,0,"div",28),e.qZA(),e.TgZ(184,"div",73),e.TgZ(185,"label",84),e._uU(186,"Country "),e.TgZ(187,"span",26),e._uU(188,"*"),e.qZA(),e.qZA(),e._UZ(189,"input",85),e.YNc(190,xe,2,0,"div",28),e.qZA(),e.qZA(),e.qZA(),e.TgZ(191,"button",86),e.NdJ("click",function(){return e.CHM(o),e.oxw().copyAddress()}),e._UZ(192,"app-feather-icons",19),e.qZA(),e.TgZ(193,"div",69),e.TgZ(194,"div",5),e.TgZ(195,"div",70),e.TgZ(196,"label",87),e._uU(197,"Present Address"),e.qZA(),e._UZ(198,"textarea",88),e.YNc(199,be,2,0,"div",28),e.qZA(),e.qZA(),e.TgZ(200,"div",5),e.TgZ(201,"div",73),e.TgZ(202,"label",89),e._uU(203,"City "),e.TgZ(204,"span",26),e._uU(205,"*"),e.qZA(),e.qZA(),e._UZ(206,"input",90),e.YNc(207,Ne,2,0,"div",28),e.qZA(),e.TgZ(208,"div",73),e.TgZ(209,"label",91),e._uU(210,"Pin "),e.TgZ(211,"span",26),e._uU(212,"*"),e.qZA(),e.qZA(),e._UZ(213,"input",92),e.YNc(214,Ce,2,0,"div",28),e.qZA(),e.TgZ(215,"div",73),e.TgZ(216,"label",93),e._uU(217,"Taluka "),e.TgZ(218,"span",26),e._uU(219,"*"),e.qZA(),e.qZA(),e._UZ(220,"input",94),e.YNc(221,we,2,0,"div",28),e.qZA(),e.TgZ(222,"div",73),e.TgZ(223,"label",95),e._uU(224,"District "),e.TgZ(225,"span",26),e._uU(226,"*"),e.qZA(),e.qZA(),e._UZ(227,"input",96),e.YNc(228,Ue,2,0,"div",28),e.qZA(),e.TgZ(229,"div",73),e.TgZ(230,"label",97),e._uU(231,"State "),e.TgZ(232,"span",26),e._uU(233,"*"),e.qZA(),e.qZA(),e._UZ(234,"input",98),e.YNc(235,Ie,2,0,"div",28),e.qZA(),e.TgZ(236,"div",73),e.TgZ(237,"label",99),e._uU(238,"Country "),e.TgZ(239,"span",26),e._uU(240,"*"),e.qZA(),e.qZA(),e._UZ(241,"input",100),e.YNc(242,Fe,2,0,"div",28),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(243,"button",101),e._uU(244," Previous "),e.qZA(),e.TgZ(245,"button",102),e._uU(246," Next "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(247,"aw-wizard-step",103),e.TgZ(248,"form",12),e.TgZ(249,"div",104),e.TgZ(250,"div",55),e.TgZ(251,"label",105),e._uU(252,"Institute Name"),e.qZA(),e._UZ(253,"input",106),e.qZA(),e.TgZ(254,"div",55),e.TgZ(255,"label",107),e._uU(256,"University Name"),e.qZA(),e._UZ(257,"input",108),e.qZA(),e.TgZ(258,"div",55),e.TgZ(259,"label",109),e._uU(260,"Qualification Name"),e.qZA(),e._UZ(261,"input",110),e.qZA(),e.TgZ(262,"div",55),e.TgZ(263,"label",111),e._uU(264,"Qualification Type"),e.qZA(),e._UZ(265,"input",112),e.qZA(),e.TgZ(266,"div",24),e.TgZ(267,"label",113),e._uU(268,"Graduation Date"),e.qZA(),e._UZ(269,"input",114),e.qZA(),e.TgZ(270,"div",20),e.TgZ(271,"label",115),e._uU(272,"Total Percentage"),e.qZA(),e._UZ(273,"input",116),e.qZA(),e.TgZ(274,"div",20),e.TgZ(275,"label",117),e._uU(276,"Scored Percentage"),e.qZA(),e._UZ(277,"input",118),e.qZA(),e.qZA(),e.qZA(),e.TgZ(278,"button",101),e._uU(279," Previous "),e.qZA(),e.TgZ(280,"button",119),e.NdJ("click",function(){return e.CHM(o),e.oxw().submit()}),e._uU(281),e.YNc(282,De,1,0,"i",120),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.oxw();e.xp6(7),e.Q6J("navigateForward",o.navigation),e.xp6(1),e.Q6J("navigationSymbol",e.DdM(47,Je)),e.xp6(1),e.Q6J("formGroup",o.employeeForm),e.xp6(7),e.Q6J("icon","trello"),e.xp6(4),e.Q6J("ngIf",!o.employeeForm.controls.employee_info.controls.generate_emp_no.value),e.xp6(1),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.generate_emp_no.value),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.f_name.touched&&(null==o.employeeForm.controls.employee_info.controls.f_name.errors?null:o.employeeForm.controls.employee_info.controls.f_name.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.m_name.touched&&(null==o.employeeForm.controls.employee_info.controls.m_name.errors?null:o.employeeForm.controls.employee_info.controls.m_name.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.l_name.touched&&(null==o.employeeForm.controls.employee_info.controls.l_name.errors?null:o.employeeForm.controls.employee_info.controls.l_name.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.dob.touched&&(null==o.employeeForm.controls.employee_info.controls.dob.errors?null:o.employeeForm.controls.employee_info.controls.dob.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.joining_date.touched&&(null==o.employeeForm.controls.employee_info.controls.joining_date.errors?null:o.employeeForm.controls.employee_info.controls.joining_date.errors.required)),e.xp6(9),e.Q6J("ngForOf",o.bloodGroupList),e.xp6(13),e.Q6J("ngForOf",o.genderList),e.xp6(2),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.gender_id.touched&&(null==o.employeeForm.controls.employee_info.controls.gender_id.errors?null:o.employeeForm.controls.employee_info.controls.gender_id.errors.required)),e.xp6(9),e.Q6J("ngForOf",o.religionList),e.xp6(10),e.Q6J("ngForOf",o.casteList),e.xp6(10),e.Q6J("ngForOf",o.categoryList),e.xp6(6),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.mobile.touched&&o.employeeForm.controls.employee_info.controls.mobile.value.length<10),e.xp6(1),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.mobile.touched&&(null==o.employeeForm.controls.employee_info.controls.mobile.errors?null:o.employeeForm.controls.employee_info.controls.mobile.errors.maxlength)),e.xp6(9),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.email.touched&&(null==o.employeeForm.controls.employee_info.controls.email.errors?null:o.employeeForm.controls.employee_info.controls.email.errors.required)),e.xp6(1),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.email.touched&&(null==o.employeeForm.controls.employee_info.controls.email.errors?null:o.employeeForm.controls.employee_info.controls.email.errors.email)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.nationality.touched&&(null==o.employeeForm.controls.employee_info.controls.nationality.errors?null:o.employeeForm.controls.employee_info.controls.nationality.errors.required)),e.xp6(4),e.Q6J("navigationSymbol",e.DdM(48,ke)),e.xp6(1),e.Q6J("formGroup",o.employeeForm),e.xp6(9),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.permanent_address.touched&&(null==o.employeeForm.controls.employee_info.controls.permanent_address.errors?null:o.employeeForm.controls.employee_info.controls.permanent_address.errors.required)),e.xp6(8),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.permanent_city.touched&&(null==o.employeeForm.controls.employee_info.controls.permanent_city.errors?null:o.employeeForm.controls.employee_info.controls.permanent_city.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.permanent_pin.touched&&(null==o.employeeForm.controls.employee_info.controls.permanent_pin.errors?null:o.employeeForm.controls.employee_info.controls.permanent_pin.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.permanent_taluka.touched&&(null==o.employeeForm.controls.employee_info.controls.permanent_taluka.errors?null:o.employeeForm.controls.employee_info.controls.permanent_taluka.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.permanent_district.touched&&(null==o.employeeForm.controls.employee_info.controls.permanent_district.errors?null:o.employeeForm.controls.employee_info.controls.permanent_district.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.permanent_state.touched&&(null==o.employeeForm.controls.employee_info.controls.permanent_state.errors?null:o.employeeForm.controls.employee_info.controls.permanent_state.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.permanent_country.touched&&(null==o.employeeForm.controls.employee_info.controls.permanent_country.errors?null:o.employeeForm.controls.employee_info.controls.permanent_country.errors.required)),e.xp6(2),e.Q6J("icon","copy"),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.current_address.touched&&(null==o.employeeForm.controls.employee_info.controls.current_address.errors?null:o.employeeForm.controls.employee_info.controls.current_address.errors.required)),e.xp6(8),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.current_city.touched&&(null==o.employeeForm.controls.employee_info.controls.current_city.errors?null:o.employeeForm.controls.employee_info.controls.current_city.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.current_pin.touched&&(null==o.employeeForm.controls.employee_info.controls.current_pin.errors?null:o.employeeForm.controls.employee_info.controls.current_pin.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.current_taluka.touched&&(null==o.employeeForm.controls.employee_info.controls.current_taluka.errors?null:o.employeeForm.controls.employee_info.controls.current_taluka.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.current_district.touched&&(null==o.employeeForm.controls.employee_info.controls.current_district.errors?null:o.employeeForm.controls.employee_info.controls.current_district.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.current_state.touched&&(null==o.employeeForm.controls.employee_info.controls.current_state.errors?null:o.employeeForm.controls.employee_info.controls.current_state.errors.required)),e.xp6(7),e.Q6J("ngIf",o.employeeForm.controls.employee_info.controls.current_country.touched&&(null==o.employeeForm.controls.employee_info.controls.current_country.errors?null:o.employeeForm.controls.employee_info.controls.current_country.errors.required)),e.xp6(3),e.Q6J("disabled",!o.employeeForm.valid),e.xp6(2),e.Q6J("navigationSymbol",e.DdM(49,Ee)),e.xp6(1),e.Q6J("formGroup",o.employeeForm),e.xp6(25),e.Q6J("validation",!1),e.xp6(4),e.Q6J("validation",!1),e.xp6(3),e.Q6J("disabled",o.submitDisable),e.xp6(1),e.hij(" ",o.submitDisable?"":"Submit"," \xa0"),e.xp6(1),e.Q6J("ngIf",o.submitDisable)}}let D=(()=>{class t{constructor(o,i,r,a,p,m,_,g){this.datepipe=o,this.toster=i,this.employeeService=r,this.apiService=a,this.dialog=p,this.router=m,this.dialogRef=_,this.dialogdata=g,this.dataFetch=!1,this.submitDisable=!1,this.navigation="visited",this.genderList=[],this.bloodGroupList=[],this.categoryList=[],this.casteList=[],this.religionList=[],this.employeeForm=new n.cw({employee_info:new n.cw({employee_id:new n.NI(""),institution_id:new n.NI(""),serial_no:new n.NI(""),photo:new n.NI(""),employee_no:new n.NI(""),generate_emp_no:new n.NI(!0,[n.kI.required]),joining_date:new n.NI((new Date).toISOString().substring(0,10),[n.kI.required]),f_name:new n.NI("",[n.kI.required]),m_name:new n.NI("",[n.kI.required]),l_name:new n.NI("",[n.kI.required]),email:new n.NI("",[n.kI.required,n.kI.email]),mobile:new n.NI("",[n.kI.minLength(10),n.kI.maxLength(12)]),dob:new n.NI("",[n.kI.required]),current_address:new n.NI("",[n.kI.required]),current_city:new n.NI("",[n.kI.required]),current_pin:new n.NI("",[n.kI.required]),current_taluka:new n.NI("",[n.kI.required]),current_district:new n.NI("",[n.kI.required]),current_state:new n.NI("",[n.kI.required]),current_country:new n.NI("",[n.kI.required]),permanent_address:new n.NI("",[n.kI.required]),permanent_city:new n.NI("",[n.kI.required]),permanent_pin:new n.NI("",[n.kI.required]),permanent_taluka:new n.NI("",[n.kI.required]),permanent_district:new n.NI("",[n.kI.required]),permanent_state:new n.NI("",[n.kI.required]),permanent_country:new n.NI("",[n.kI.required]),gender_id:new n.NI("",[n.kI.required]),gender_name:new n.NI(""),religion_id:new n.NI(""),religion_name:new n.NI(""),caste_id:new n.NI(""),caste_name:new n.NI(""),category_id:new n.NI(""),category_name:new n.NI(""),blood_group_id:new n.NI(""),blood_group_name:new n.NI(""),link:new n.NI(""),nationality:new n.NI("India",[n.kI.required])}),qualification_info:new n.cw({institute_name:new n.NI(""),university_name:new n.NI(""),qualification_name:new n.NI(""),graduation_date:new n.NI(""),qualification_type:new n.NI(""),total_per:new n.NI(""),scored_per:new n.NI("")})})}get employee_info(){return this.employeeForm.get("employee_info")}get qualification_info(){return this.employeeForm.get("qualification_info")}ngOnInit(){var o;this.submitDisable=!1,this.dataFetch=!1,this.apiService.getTypeRequest("admission_form_data").toPromise().then(i=>{this.bloodGroupList=i.data.blood_group,this.genderList=i.data.gender,this.categoryList=i.data.category,this.casteList=i.data.caste,this.religionList=i.data.religion}),(null===(o=this.dialogdata)||void 0===o?void 0:o.item_id)&&(this.navigation="allow",this.dataFetch=!0,this.apiService.getTypeRequest("employee_profile/"+this.dialogdata.item_id).subscribe(i=>{i.result&&(i.data.employee_info.generate_emp_no=!1,this.employee_info.setValue(i.data.employee_info)),this.dataFetch=!1}))}copyAddress(){this.employee_info.patchValue({current_address:this.employeeForm.get("employee_info.permanent_address").value,current_city:this.employeeForm.get("employee_info.permanent_city").value,current_pin:this.employeeForm.get("employee_info.permanent_pin").value,current_taluka:this.employeeForm.get("employee_info.permanent_taluka").value,current_district:this.employeeForm.get("employee_info.permanent_district").value,current_state:this.employeeForm.get("employee_info.permanent_state").value,current_country:this.employeeForm.get("employee_info.permanent_country").value}),this.employeeForm.updateValueAndValidity()}addBloodGroup(){this.dialog.open(z.H,{width:"50%"}).afterClosed().subscribe(i=>{i&&this.apiService.getTypeRequest("dropdown_data/BLOOD_GROUP").subscribe(r=>{this.bloodGroupList=r.data})})}addGender(){this.dialog.open(W._,{width:"50%"}).afterClosed().subscribe(i=>{i&&this.apiService.getTypeRequest("dropdown_data/GENDER").toPromise().then(r=>{this.genderList=r.data})})}addCaste(){this.dialog.open(V.x,{width:"50%"}).afterClosed().subscribe(i=>{i&&this.apiService.getTypeRequest("dropdown_data/CASTE").subscribe(r=>{this.casteList=r.data})})}addReligion(){this.dialog.open($.h,{width:"50%"}).afterClosed().subscribe(i=>{i&&this.apiService.getTypeRequest("dropdown_data/RELIGION").subscribe(r=>{this.religionList=r.data})})}addCategory(){this.dialog.open(X.m,{width:"50%"}).afterClosed().subscribe(i=>{i&&this.apiService.getTypeRequest("dropdown_data/CATEGORY").subscribe(r=>{this.categoryList=r.data})})}logErrors(){}submit(){var o;this.employeeForm.value?(this.submitDisable=!0,(null===(o=this.dialogdata)||void 0===o?void 0:o.item_id)?this.apiService.postTypeRequest("update_employee",this.employeeForm.value).subscribe(i=>{i.result?(this.toster.success("Data Added Successfully"),this.dialogRef.close(!0)):this.submitDisable=!1}):this.apiService.postTypeRequest("register_employee",this.employeeForm.value).subscribe(i=>{i.result?(this.toster.success("Data Added Successfully"),this.employeeService.setSelectedEmployee(i.data),this.router.navigate(["/employee/allEmployees"])):this.submitDisable=!1})):this.employeeForm.markAllAsTouched()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c.uU),e.Y36(A._W),e.Y36(q.G),e.Y36(s.s),e.Y36(y.uw),e.Y36(Z.F0),e.Y36(y.so),e.Y36(y.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-new"]],decls:3,vars:2,consts:[[1,"container-fluid"],["class","loader-box center",4,"ngIf"],["class","row",4,"ngIf"],[1,"loader-box","center"],[1,"rotate","dashed"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-body","step-indicator"],["navBarLayout","large-filled-symbols",3,"awNavigationMode","navigateForward"],["stepTitle","Employee Details","stepId","employee_info1",3,"navigationSymbol"],["autocomplete","off","novalidate","",1,"needs-validation",3,"formGroup"],["formGroupName","employee_info",1,"form-row","mt-3"],[1,"form-group","mt-4","col-md-1","mb-3"],[1,"form-check"],[1,"checkbox","p-0"],["id","generate_emp_no","type","checkbox","formControlName","generate_emp_no",1,"form-check-input"],["for","generate_emp_no","ngbTooltip","Generate Employee No",1,"form-check-label"],[1,"search-icon",3,"icon"],[1,"col-md-2","mb-3"],["for","employee_no"],["type","text","class","form-control","id","employee_no","placeholder","Employee No","formControlName","employee_no",4,"ngIf"],["type","text","disabled","true","class","form-control","id","employee_no","placeholder","Employee No","formControlName","employee_no",4,"ngIf"],[1,"col-md-3","mb-3"],["for","f_name"],[1,"font-danger"],["type","text","id","f_name","placeholder","First name","formControlName","f_name",1,"form-control"],["class","text text-danger",4,"ngIf"],["for","m_name"],["type","text","id","m_name","placeholder","Middle name","formControlName","m_name",1,"form-control"],["for","l_name"],["type","text","id","l_name","placeholder","Last name","formControlName","l_name",1,"form-control"],["for","dob"],["type","date","id","dob","placeholder","dob","formControlName","dob",1,"form-control"],["for","joining_date"],["type","date","id","joining_date","placeholder","20/02/2022","formControlName","joining_date",1,"form-control"],[1,"d-flex","justify-content-between"],["for","blood_group_id"],["id","blood_group_id","placeholder","blood_group","formControlName","blood_group_id",1,"form-control","col-9","ml-2","mr-2"],["value",""],[3,"value",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","ngbTooltip","Add Blood Group",1,"p-button-rounded","btn-primary","mt-1",2,"height","28px","width","28px",3,"click"],["for","gender_id"],["id","gender_id","placeholder","gender","formControlName","gender_id",1,"form-control","col-9","ml-2","mr-2"],["pButton","","pRipple","","type","button","icon","pi pi-plus","ngbTooltip","Add Gender",1,"p-button-rounded","btn-primary","mt-1",2,"height","28px","width","28px",3,"click"],["for","religion_id"],["id","religion_id","placeholder","religion","formControlName","religion_id",1,"form-control","col-9","ml-2","mr-2"],["pButton","","pRipple","","type","button","icon","pi pi-plus","ngbTooltip","Add Religion",1,"p-button-rounded","btn-primary","mt-1",2,"height","28px","width","28px",3,"click"],["for","caste_id"],["id","caste_id","placeholder","caste","formControlName","caste_id",1,"form-control","col-9","ml-2","mr-2"],["pButton","","pRipple","","type","button","icon","pi pi-plus","ngbTooltip","Add Caste",1,"p-button-rounded","btn-primary","mt-1",2,"height","28px","width","28px",3,"click"],["for","category_id"],["id","category_id","placeholder","category","formControlName","category_id",1,"form-control","col-9","ml-2","mr-2"],["pButton","","pRipple","","type","button","icon","pi pi-plus","ngbTooltip","Add Category",1,"p-button-rounded","btn-primary","mt-1",2,"height","28px","width","28px",3,"click"],[1,"col-md-4","mb-3"],["for","mobile"],["type","text","id","mobile","prefix","+91","mask"," 00000 00000","placeholder","Phone Number","formControlName","mobile",1,"form-control"],["for","email"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","email","id","email","placeholder","Email","formControlName","email",1,"form-control"],["for","nationality"],["type","text","id","nationality","placeholder","Indian","formControlName","nationality",1,"form-control"],[1,"form-group","f1-buttons"],["awNextStep","",1,"btn","btn-primary","btn-next"],["stepTitle","Address Info","stepId","employee_info2",3,"navigationSymbol"],[1,"form-row"],[1,"col-md-5","mb-3"],[1,"col"],["for","permanent_address"],["id","permanent_address","formControlName","permanent_address","rows","3","cols","5","placeholder","Permanent Address",1,"form-control"],[1,"col-md-6","mb-3"],["for","permanent_city"],["type","text","id","permanent_city","placeholder","Banglore","formControlName","permanent_city",1,"form-control"],["for","permanent_pin"],["type","text","mask","000 000","id","permanent_pin","placeholder","XXX XXX","formControlName","permanent_pin",1,"form-control"],["for","permanent_taluka"],["type","text","id","permanent_taluka","placeholder","Banglore","formControlName","permanent_taluka",1,"form-control"],["for","permanent_district"],["type","text","id","permanent_district","placeholder","Banglore","formControlName","permanent_district",1,"form-control"],["for","permanent_state"],["type","text","id","permanent_state","placeholder","Karnataka","formControlName","permanent_state",1,"form-control"],["for","permanent_country"],["type","text","id","permanent_country","placeholder","India","formControlName","permanent_country",1,"form-control"],["ngbTooltip","Copy Permanent Address",1,"btn","btn-primary",2,"height","2.2rem","margin-top","5rem",3,"click"],["for","current_address"],["id","current_address","formControlName","current_address","rows","3","cols","5","placeholder","Present Address",1,"form-control"],["for","current_city"],["type","text","id","current_city","placeholder","Banglore","formControlName","current_city",1,"form-control"],["for","current_pin"],["type","text","mask","000 000","id","current_pin","placeholder","XXX XXX","formControlName","current_pin",1,"form-control"],["for","current_taluka"],["type","text","id","current_taluka","placeholder","Banglore","formControlName","current_taluka",1,"form-control"],["for","current_district"],["type","text","id","current_district","placeholder","Banglore","formControlName","current_district",1,"form-control"],["for","current_state"],["type","text","id","current_state","placeholder","Karnataka","formControlName","current_state",1,"form-control"],["for","current_country"],["type","text","id","current_country","placeholder","India","formControlName","current_country",1,"form-control"],["awPreviousStep","",1,"btn","btn-primary","btn-previous","mr-3"],["awNextStep","",1,"btn","btn-primary","btn-next",3,"disabled"],["stepTitle","Qualification Info","stepId","qualification_info",3,"navigationSymbol"],["formGroupName","qualification_info",1,"form-row","mt-3"],["for","institute_name"],["type","text","id","institute_name","placeholder","Institute Name","formControlName","institute_name",1,"form-control"],["for","university_name"],["type","text","id","university_name","placeholder","University Name","formControlName","university_name",1,"form-control"],["for","qualification_name"],["type","text","id","qualification_name","placeholder","Qualification Name","formControlName","qualification_name",1,"form-control"],["for","qualification_type"],["type","text","id","qualification_type","placeholder","Qualification Type","formControlName","qualification_type",1,"form-control"],["for","graduation_date"],["type","date","id","graduation_date","placeholder","20/02/2022","formControlName","graduation_date",1,"form-control"],["for","total_per"],["type","text","id","total_per","mask"," 000","placeholder","100","formControlName","total_per",1,"form-control",3,"validation"],["for","scored_per"],["type","text","id","scored_per","mask"," 000","placeholder","80","formControlName","scored_per",1,"form-control",3,"validation"],[1,"btn","btn-primary","btn-next",3,"disabled","click"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],["type","text","id","employee_no","placeholder","Employee No","formControlName","employee_no",1,"form-control"],["type","text","disabled","true","id","employee_no","placeholder","Employee No","formControlName","employee_no",1,"form-control"],[1,"text","text-danger"],[3,"value"],[1,"fa","fa-circle-o-notch","fa-spin"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.YNc(1,K,2,0,"div",1),e.YNc(2,Se,283,50,"div",2),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",i.dataFetch),e.xp6(1),e.Q6J("ngIf",!i.dataFetch))},directives:[c.O5,h.Pl,h.UX,h.GZ,n._Y,n.JL,n.sg,n.x0,n.Wl,n.JJ,n.u,N._L,U.A,n.Fj,n.EJ,n.YN,n.Kr,c.sg,x.Hq,b.H,F.hx,h.j,h.ei],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:25vh}"]}),t})();var f=d(70655),J=d(40520),k=d(4426),Ye=d(15315),E=d(33725),Pe=d(24850),Oe=d(26726),Qe=d(69720);function Me(t,l){if(1&t&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.s9C("value",o.id),e.xp6(1),e.Oqu(o.name)}}function Re(t,l){1&t&&(e.TgZ(0,"div",27),e._uU(1," Document is required. "),e.qZA())}function Be(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"div",28),e.TgZ(1,"button",29),e.NdJ("click",function(){return e.CHM(o),e.oxw().deleteDocument()}),e.qZA(),e.qZA()}}function Ge(t,l){1&t&&e._UZ(0,"i",32)}function Le(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"button",30),e.NdJ("click",function(){return e.CHM(o),e.oxw().uploadFile()}),e._uU(2," Add\xa0"),e.YNc(3,Ge,1,0,"i",31),e.qZA(),e.qZA()}if(2&t){const o=e.oxw();e.xp6(1),e.Q6J("disabled",!o.fileGroup.valid||o.loader),e.xp6(2),e.Q6J("ngIf",o.loader)}}function je(t,l){1&t&&e._UZ(0,"i",32)}function He(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"button",33),e.NdJ("click",function(){return e.CHM(o),e.oxw().uploadFile()}),e._uU(2," Update\xa0"),e.YNc(3,je,1,0,"i",31),e.qZA(),e.qZA()}if(2&t){const o=e.oxw();e.xp6(1),e.Q6J("disabled",!o.fileGroup.valid||o.loader),e.xp6(2),e.Q6J("ngIf",o.loader)}}function ze(t,l){1&t&&(e.TgZ(0,"div",34),e._UZ(1,"span",35),e.qZA())}function Ve(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(o);const r=e.oxw().$implicit;return e.oxw(2).downloadDocument(r)}),e.qZA()}}function Xe(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"td"),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"span"),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"td"),e.TgZ(13,"span"),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"td"),e.YNc(16,Ve,1,0,"button",38),e.TgZ(17,"button",39),e.NdJ("click",function(){const a=e.CHM(o).$implicit,p=e.oxw(2);return p.update=!0,p.updateDocument(a)}),e.qZA(),e.TgZ(18,"button",40),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).deleteRecord(a)}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=l.$implicit,i=l.index;let r,a;e.xp6(2),e.hij(" ",i+1," "),e.xp6(3),e.Oqu(o.doc_name),e.xp6(3),e.Oqu(o.document_no),e.xp6(3),e.Oqu(null!==(r=o.issued_date)&&void 0!==r?r:"--"),e.xp6(3),e.Oqu(null!==(a=o.expiry_date)&&void 0!==a?a:"--"),e.xp6(2),e.Q6J("ngIf",o.doc_url)}}function We(t,l){if(1&t&&(e.TgZ(0,"table",36),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th"),e._uU(4,"SlNo"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Document Type"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Document No/Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Issue Date"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Expiry Date"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,Xe,19,6,"tr",37),e.qZA(),e.qZA()),2&t){const o=e.oxw();e.xp6(16),e.Q6J("ngForOf",o.employee_documents)}}let $e=(()=>{class t{constructor(o,i,r,a,p,m,_,g){var v;this.http=o,this.employeeService=i,this.dialog=r,this.toster=a,this.apiService=p,this.authService=m,this.datepipe=_,this.confirmationService=g,this.employee_documents=[],this.DocumentList=[],this.update=!1,this.showDoc=!1,this.loader=!1,this.dataFetch=!1,this.employee=this.employeeService.getSelectedEmployee,this.DocUrl="",this.fileGroup=new n.cw({employee_id:new n.NI(null===(v=this.employee)||void 0===v?void 0:v.employee_id),doc_id:new n.NI("",[n.kI.required]),doc_no:new n.NI("",[n.kI.required]),doc_url:new n.NI(""),issue_date:new n.NI(""),expiry_date:new n.NI(""),doc:new n.NI(""),doc_loc:new n.NI(""),act_doc_id:new n.NI("")}),this.form=new n.cw({file:new n.NI("")})}ngOnInit(){this.loader=!1,this.update=!1,this.fetchApi()}fetchApi(){var o;return(0,f.mG)(this,void 0,void 0,function*(){this.dataFetch=!1,this.apiService.getTypeRequest("dropdown_data/DOCUMENT").subscribe(i=>{this.DocumentList=i.data}),yield this.apiService.getTypeRequest("employee_profile/"+(null===(o=this.employee)||void 0===o?void 0:o.employee_id)).subscribe(i=>{i.result?this.employee_documents=i.data.employee_docments:"INVALID_LOGIN"===i.error_code&&(this.toster.error("Session Expired"),this.authService.SignOut()),this.dataFetch=!0})})}resetFileGroup(){var o;this.file=null,this.fileGroup.reset({employee_id:null===(o=this.employee)||void 0===o?void 0:o.employee_id,doc_id:"",doc_no:"",doc_url:"",issue_date:"",expiry_date:"",doc:"",doc_loc:"",act_doc_id:""}),this.update=!1,this.showDoc=!1}docTypeChange(){this.fileGroup.get("doc_id")}readUrl(o){this.file=o.target.files[0],this.form.get("file").setValue(this.file)}deleteDocument(){var o;this.fileGroup.patchValue({doc_url:""}),this.form.reset({employee_id:null===(o=this.employee)||void 0===o?void 0:o.employee_id}),this.fileGroup.updateValueAndValidity(),this.updateDocument(this.fileGroup.value)}deleteRecord(o){var i={document_id:o.actual_doc_id};this.confirmationService.showDeleteConfirmDialog().then(r=>{r.value&&this.apiService.postTypeRequest("delete_document",i).toPromise().then(a=>{a.result?(this.toster.warning("Data deleted"),this.confirmationService.showSuccessMessage("Deleted!",a.message),this.ngOnInit()):this.confirmationService.showErrorMessage("Cancelled!",a.message)})})}uploadFile(){return(0,f.mG)(this,void 0,void 0,function*(){if(this.loader=!0,this.file){const i=new FormData;var o;i.append("file",this.form.get("file").value),i.append("token",this.apiService.getTocken),this.file_data=i,yield this.apiService.postFileTypeRequest("upload_employee_doc",i).toPromise().then(r=>{var a,p;r.result&&(o=null!==(p=null===(a=r.data)||void 0===a?void 0:a.file_loc)&&void 0!==p?p:"",this.fileGroup.patchValue({doc_loc:o}))})}this.fileGroup.updateValueAndValidity(),this.update?this.updateFile():this.saveFile()})}saveFile(){return(0,f.mG)(this,void 0,void 0,function*(){this.loader=!0,yield this.apiService.postTypeRequest("save_document_data/EMPLOYEE",this.fileGroup.value).subscribe(o=>(0,f.mG)(this,void 0,void 0,function*(){o.result?(this.toster.success("Data added successfully"),this.ngOnInit()):this.loader=!1})),this.resetFileGroup()})}updateFile(){return(0,f.mG)(this,void 0,void 0,function*(){this.loader=!0,yield this.apiService.postTypeRequest("update_document_date/EMPLOYEE",this.fileGroup.value).subscribe(o=>(0,f.mG)(this,void 0,void 0,function*(){o.result?(this.toster.success("Data added successfully"),this.ngOnInit(),this.update=!1):this.loader=!1})),this.resetFileGroup()})}addDocumentType(){this.dialog.open(Oe.K).afterClosed().subscribe(i=>{i&&(this.apiService.getTypeRequest("dropdown_data/DOCUMENT").subscribe(r=>{this.DocumentList=r.data}),this.DocumentList=this.DocumentList.filter(r=>{this.employee_documents.includes(a=>{})}))})}downloadFile(o){return this.http.get(o,{responseType:"blob"}).pipe((0,Pe.U)(i=>i))}updateDocument(o){var i,r,a,p,m;this.update=!0,this.DocUrl=o.doc_url,this.showDoc=!0;let _=o.issued_date?o.issued_date.split("-"):"",g=o.expiry_date?o.expiry_date.split("-"):"";this.fileGroup.patchValue({doc_name:o.doc_id,doc_id:null!==(i=o.doc_list_id)&&void 0!==i?i:o.doc_id,doc_url:o.doc_url,doc_no:null!==(a=null!==(r=o.doc_no)&&void 0!==r?r:o.document_no)&&void 0!==a?a:"",issue_date:o.issued_date?this.datepipe.transform(new Date(_[2]+"/"+_[1]+"/"+_[0]),"yyyy-MM-dd"):"",expiry_date:o.expiry_date?this.datepipe.transform(new Date(g[2]+"/"+g[1]+"/"+g[0]),"yyyy-MM-dd"):"",act_doc_id:null!==(m=null!==(p=o.act_doc_id)&&void 0!==p?p:o.actual_doc_id)&&void 0!==m?m:""}),this.fileGroup.updateValueAndValidity()}downloadDocument(o){this.dialog.open(Qe.T,{data:o.doc_url,width:"60%",height:"90%"})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(J.eN),e.Y36(q.G),e.Y36(y.uw),e.Y36(A._W),e.Y36(s.s),e.Y36(u.e),e.Y36(c.uU),e.Y36(k.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-documents"]],decls:40,vars:12,consts:[[1,"row"],[1,"col-md-3","mb-3"],["for","gender_id"],[1,"font-danger"],["id","doc_id","placeholder","Document",1,"form-control","col-9",3,"formControl","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","btn-primary","ml-1",2,"height","30px","width","30px",3,"click"],["class","text text-danger",4,"ngIf"],["for","doc_no"],["type","text","id","doc_no","placeholder","doc_no",1,"form-control",3,"formControl"],["for","issue_date"],["type","date","id","issue_date","placeholder","issue_date",1,"form-control",3,"formControl"],["for","expiry_date"],["type","date","id","expiry_date","placeholder","expiry_date",1,"form-control",3,"formControl"],[1,"row","mt-3","d-flex","justify-content-around"],[1,"col-md-5","col-sm-8","mb-3"],["type","file","id","doc","placeholder","doc",1,"form-control",2,"padding-bottom","35px",3,"formControl","change"],["file",""],["class","col-md-2",4,"ngIf"],["class","col-md-2 col-sm-12",4,"ngIf"],[1,"col-md-2","col-sm-12"],["type","submit",1,"btn","btn-warning","float-right","text-center","mb-3",3,"click"],[1,"table-responsive","mt-3","mb-3"],["class","loader-box center",4,"ngIf"],["class","table",4,"ngIf"],[3,"value"],[1,"text","text-danger"],[1,"col-md-2"],["pButton","","pRipple","","type","button","icon","pi pi-trash","ngbTooltip","Delete Document",1,"p-button-rounded","btn-danger","mb-3","ml-1",2,"height","35px","width","35px",3,"click"],["type","submit",1,"btn","btn-primary","float-right","text-center","mb-3",3,"disabled","click"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],[1,"fa","fa-circle-o-notch","fa-spin"],["type","submit",1,"btn","btn-success","float-right","text-center","mb-3",3,"disabled","click"],[1,"loader-box","center"],[1,"rotate","dashed"],[1,"table"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-download","ngbTooltip","Download Document","class","p-button-rounded btn-primary mb-3","style","height: 35px; width: 35px;",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-pencil","ngbTooltip","Update Record",1,"p-button-rounded","btn-success","mb-3","ml-1",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash","ngbTooltip","Delete Record",1,"p-button-rounded","btn-danger","mb-3","ml-1",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-download","ngbTooltip","Download Document",1,"p-button-rounded","btn-primary","mb-3",2,"height","35px","width","35px",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"label",2),e._uU(3,"Document "),e.TgZ(4,"span",3),e._uU(5,"*"),e.qZA(),e.qZA(),e.TgZ(6,"div",0),e.TgZ(7,"select",4),e.NdJ("change",function(){return i.docTypeChange()}),e.TgZ(8,"option",5),e._uU(9,"Select a Document"),e.qZA(),e.YNc(10,Me,2,2,"option",6),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(){return i.addDocumentType()}),e.qZA(),e.qZA(),e.YNc(12,Re,2,0,"div",8),e.qZA(),e.TgZ(13,"div",1),e.TgZ(14,"label",9),e._uU(15,"Document No "),e.TgZ(16,"span",3),e._uU(17,"*"),e.qZA(),e.qZA(),e._UZ(18,"input",10),e.qZA(),e.TgZ(19,"div",1),e.TgZ(20,"label",11),e._uU(21,"Issue Date"),e.qZA(),e._UZ(22,"input",12),e.qZA(),e.TgZ(23,"div",1),e.TgZ(24,"label",13),e._uU(25,"Expiy Date"),e.qZA(),e._UZ(26,"input",14),e.qZA(),e.qZA(),e.TgZ(27,"div",15),e.TgZ(28,"div",16),e.TgZ(29,"input",17,18),e.NdJ("change",function(a){return i.readUrl(a)}),e.qZA(),e.qZA(),e.YNc(31,Be,2,0,"div",19),e.YNc(32,Le,4,2,"div",20),e.YNc(33,He,4,2,"div",20),e.TgZ(34,"div",21),e.TgZ(35,"button",22),e.NdJ("click",function(){return i.resetFileGroup()}),e._uU(36," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",23),e.YNc(38,ze,2,0,"div",24),e.YNc(39,We,17,1,"table",25),e.qZA()),2&o&&(e.xp6(7),e.Q6J("formControl",i.fileGroup.controls.doc_id),e.xp6(3),e.Q6J("ngForOf",i.DocumentList),e.xp6(2),e.Q6J("ngIf",i.fileGroup.controls.doc_id.touched&&(null==i.fileGroup.controls.doc_id.errors?null:i.fileGroup.controls.doc_id.errors.required)),e.xp6(6),e.Q6J("formControl",i.fileGroup.controls.doc_no),e.xp6(4),e.Q6J("formControl",i.fileGroup.controls.issue_date),e.xp6(4),e.Q6J("formControl",i.fileGroup.controls.expiry_date),e.xp6(3),e.Q6J("formControl",i.fileGroup.controls.doc),e.xp6(2),e.Q6J("ngIf",i.update&&i.fileGroup.get("doc_url").value),e.xp6(1),e.Q6J("ngIf",!i.update),e.xp6(1),e.Q6J("ngIf",i.update),e.xp6(5),e.Q6J("ngIf",!i.dataFetch),e.xp6(1),e.Q6J("ngIf",i.dataFetch))},directives:[n.EJ,n.JJ,n.oH,n.YN,n.Kr,c.sg,x.Hq,b.H,c.O5,n.Fj,N._L],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();var Ke=d(89022),eo=d(2756);function oo(t,l){1&t&&(e.TgZ(0,"div",2),e._UZ(1,"span",3),e.qZA())}function to(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"app-camera",34),e.NdJ("getPicture",function(r){return e.CHM(o),e.oxw(2).handleImage(r)}),e.qZA()}}function io(t,l){if(1&t&&e._UZ(0,"app-bank-details",35),2&t){const o=e.oxw(2);e.Q6J("Type","EMPLOYEE")("person_id",null==o.employee?null:o.employee.employee_id)}}const no=function(){return{width:"50vw"}},ro=function(){return{"960px":"75vw","640px":"100vw"}};function lo(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"div",5),e.TgZ(2,"div",6),e.TgZ(3,"div",7),e.TgZ(4,"div",8),e._UZ(5,"img",9),e.qZA(),e.TgZ(6,"div",10),e._UZ(7,"img",11),e.TgZ(8,"button",12),e.NdJ("click",function(){return e.CHM(o),e.oxw().cameraDialog=!0}),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"h4"),e._uU(11),e.qZA(),e.TgZ(12,"h6"),e._uU(13),e.qZA(),e.qZA(),e._UZ(14,"hr"),e.TgZ(15,"h6"),e._UZ(16,"i",14),e._uU(17),e.qZA(),e.TgZ(18,"h6"),e._UZ(19,"i",15),e._uU(20),e.qZA(),e.TgZ(21,"div",16),e.TgZ(22,"p-dialog",17),e.NdJ("visibleChange",function(r){return e.CHM(o),e.oxw().cameraDialog=r}),e.YNc(23,to,1,0,"ng-template",18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",19),e.TgZ(25,"div",20),e._UZ(26,"div",8),e.TgZ(27,"div",21),e.TgZ(28,"p-tabView",22),e.TgZ(29,"p-tabPanel",23),e.TgZ(30,"div",20),e.TgZ(31,"div",24),e.TgZ(32,"h5",25),e._uU(33,"PERSONAL INFO"),e.qZA(),e.TgZ(34,"div"),e.TgZ(35,"button",26),e.NdJ("click",function(){return e.CHM(o),e.oxw().updateEmployeeData()}),e.qZA(),e.TgZ(36,"button",27),e.NdJ("click",function(){return e.CHM(o),e.oxw().deleteEmployeeData()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",28),e.TgZ(38,"div",5),e.TgZ(39,"div",29),e.TgZ(40,"span"),e._uU(41,"Phone No :- "),e.TgZ(42,"b"),e._uU(43),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",29),e.TgZ(45,"span"),e._uU(46,"Email :- "),e.TgZ(47,"b"),e._uU(48),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(49,"hr",30),e.TgZ(50,"div",5),e.TgZ(51,"div",29),e.TgZ(52,"span"),e._uU(53,"Date Of Birth :- "),e.TgZ(54,"b"),e._uU(55),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",29),e.TgZ(57,"span"),e._uU(58,"Date Of Joining :- "),e.TgZ(59,"b"),e._uU(60),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(61,"hr",30),e.TgZ(62,"div",5),e.TgZ(63,"div",31),e.TgZ(64,"span"),e._uU(65,"Nationality :- "),e.TgZ(66,"b"),e._uU(67),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",31),e.TgZ(69,"span"),e._uU(70,"Gender :- "),e.TgZ(71,"b"),e._uU(72),e.qZA(),e.qZA(),e.qZA(),e.TgZ(73,"div",31),e.TgZ(74,"span"),e._uU(75,"Blood Group :- "),e.TgZ(76,"b"),e._uU(77),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(78,"hr",30),e.TgZ(79,"div",5),e.TgZ(80,"div",31),e.TgZ(81,"span"),e._uU(82,"Religion :- "),e.TgZ(83,"b"),e._uU(84),e.qZA(),e.qZA(),e.qZA(),e.TgZ(85,"div",31),e.TgZ(86,"span"),e._uU(87,"Caste :- "),e.TgZ(88,"b"),e._uU(89),e.qZA(),e.qZA(),e.qZA(),e.TgZ(90,"div",31),e.TgZ(91,"span"),e._uU(92,"Category :- "),e.TgZ(93,"b"),e._uU(94),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(95,"hr",30),e.TgZ(96,"div",5),e.TgZ(97,"h5",25),e._uU(98,"Address Info"),e.qZA(),e.qZA(),e._UZ(99,"hr",30),e.TgZ(100,"div",5),e.TgZ(101,"div",29),e.TgZ(102,"span"),e._uU(103,"Date Of Birth :- "),e.TgZ(104,"b"),e._uU(105),e.qZA(),e.qZA(),e.qZA(),e.TgZ(106,"div",29),e.TgZ(107,"span"),e._uU(108,"Date Of Joining :- "),e.TgZ(109,"b"),e._uU(110),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(111,"hr",30),e.qZA(),e.qZA(),e.qZA(),e.TgZ(112,"p-tabPanel",32),e.YNc(113,io,1,2,"ng-template",18),e.qZA(),e.TgZ(114,"p-tabPanel",33),e._UZ(115,"app-documents"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.oxw();let i,r,a,p;e.xp6(7),e.s9C("src",o.employee.photo,e.LSH),e.xp6(1),e.Q6J("loading",o.ProfilePhotoloader),e.xp6(3),e.Oqu(null!==(i=o.employee.f_name)&&void 0!==i?i:""),e.xp6(2),e.Oqu(null!==(r=o.employee.employee_no)&&void 0!==r?r:""),e.xp6(4),e.hij("\u2003",null!==(a=o.employee.dob)&&void 0!==a?a:"",""),e.xp6(3),e.AsE("\u2003",null!==(p=o.employee.current_city)&&void 0!==p?p:"",",\xa0",null!==(p=o.employee.current_state)&&void 0!==p?p:"",""),e.xp6(2),e.Akn(e.DdM(26,no)),e.Q6J("visible",o.cameraDialog)("breakpoints",e.DdM(27,ro))("modal",!0),e.xp6(6),e.Q6J("scrollable",!0),e.xp6(15),e.Oqu(o.employee.mobile),e.xp6(5),e.Oqu(o.employee.email),e.xp6(7),e.Oqu(o.employee.dob),e.xp6(5),e.Oqu(o.employee.joining_date),e.xp6(7),e.Oqu(o.employee.nationality),e.xp6(5),e.Oqu(o.employee.gender_name),e.xp6(5),e.Oqu(o.employee.blood_group_name),e.xp6(7),e.Oqu(o.employee.religion_name),e.xp6(5),e.Oqu(o.employee.caste_name),e.xp6(5),e.Oqu(o.employee.category_name),e.xp6(11),e.Oqu(o.employee.dob),e.xp6(5),e.Oqu(o.employee.joining_date),e.xp6(2),e.Q6J("cache",!1)}}const ao=[{path:"",redirectTo:"allEmployees"},{path:"allEmployees",component:H,data:{title:"All Employees",breadcrumb:"All Employees"}},{path:"employeeInfo",component:(()=>{class t{constructor(o,i,r,a,p,m,_,g,v,_o){this.employeeService=o,this.fb=i,this.toster=r,this.apiService=a,this.authService=p,this.dialog=m,this.datepipe=_,this.router=g,this.http=v,this.confirmationService=_o,this.employee=this.employeeService.getSelectedEmployee,this.selectedTab=this.employeeService.getSelectedTab,this.dataFetch=!1,this.cameraDialog=!1,this.ProfilePhotoloader=!1,this.form=new n.cw({file:new n.NI})}ngOnInit(){this.fetchApi()}handleImage(o){this.cameraDialog=!1,this.form.get("file").setValue(o),this.uploadProfilePhoto()}fetchApi(){var o;this.dataFetch=!1;var i=null===(o=this.employee)||void 0===o?void 0:o.employee_id;i?this.apiService.getTypeRequest("employee_profile/"+i).subscribe(r=>{r.result&&(this.dataFetch=!0,this.employee=r.data.employee_info)}):this.router.navigate(["/employee/allEmployees"])}readProfilePhoto(o){this.profilePhoto=o.target.files[0],this.form.get("file").setValue(this.profilePhoto)}uploadProfilePhoto(){return(0,f.mG)(this,void 0,void 0,function*(){this.ProfilePhotoloader=!0;const o=new FormData;o.append("file",this.form.get("file").value),o.append("token",this.apiService.getTocken),this.file_data=o,yield this.apiService.postFileTypeRequest("upload_employee_doc",o).toPromise().then(r=>{r.result?this.apiService.postTypeRequest("save_employee_photo",{employee_id:this.employee.employee_id,img_loc:r.data.file_loc}).subscribe(p=>(0,f.mG)(this,void 0,void 0,function*(){p.result&&(this.toster.success("Data added successfully"),this.ngOnInit()),this.ProfilePhotoloader=!1})):this.ProfilePhotoloader=!1})})}updateEmployeeData(){this.dialog.open(D,{data:{item_id:this.employee.employee_id},height:"83.5%",width:"80%"}).afterClosed().subscribe(i=>{i&&this.ngOnInit()})}deleteEmployeeData(){var o,i={item_id:null===(o=this.employee)||void 0===o?void 0:o.employee_id};this.confirmationService.showConfirmDialog().then(r=>{r.value&&this.apiService.postTypeRequest("delete_item/EMPLOYEE",i).toPromise().then(a=>{a.result?(this.toster.warning("Data deleted"),this.confirmationService.showWarningMessage("Deleted!",a.message),this.router.navigate(["/employee/allEmployees"])):this.confirmationService.showErrorMessage("Cancelled",a.message)})})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(q.G),e.Y36(n.qu),e.Y36(A._W),e.Y36(s.s),e.Y36(u.e),e.Y36(y.uw),e.Y36(c.uU),e.Y36(Z.F0),e.Y36(J.eN),e.Y36(k.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile"]],decls:2,vars:2,consts:[["class","loader-box center",4,"ngIf"],["class","container-fluid",4,"ngIf"],[1,"loader-box","center"],[1,"rotate","dashed"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12","col-md-4","col-lg-3","col-xl-3"],[1,"card","custom-card"],[1,"card-header"],["src","assets/images/faq/2.jpg","alt","",1,"img-fluid"],[1,"card-profile"],["alt","",1,"rounded-circle",3,"src"],["pButton","","pRipple","","type","button","icon","pi pi-camera","ngbTooltip","Update Profile Pic",1,"p-button-rounded","btn-primary",2,"height","30px","width","30px","margin-left","-3rem","z-index","10",3,"loading","click"],[1,"text-center","profile-details"],[1,"pi","pi-star"],[1,"pi","pi-map-marker"],[1,"row","text-center"],["header","Camera","styleClass","p-fluid",3,"visible","breakpoints","modal","visibleChange"],["pTemplate","content"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-9"],[1,"card"],[1,"card-body"],[3,"scrollable"],["header","Profile","leftIcon","pi pi-user"],[1,"card-header","d-flex","justify-content-between","mb-0"],[1,"pull-left"],["pButton","","pRipple","","type","button","icon","pi pi-pencil","ngbTooltip","Update Record",1,"p-button-rounded","btn-primary","ml-3",2,"height","35px","width","35px",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash","ngbTooltip","Delete Record",1,"p-button-rounded","btn-danger","ml-3",2,"height","35px","width","35px",3,"click"],[1,"card-body","mt-0"],[1,"col-sm-12","col-md-6"],[2,"font-weight","bold"],[1,"col-sm-12","col-md-4"],["header","Bank Details","leftIcon","pi pi-money-bill",3,"cache"],["header","Documents","leftIcon","pi pi-book"],[3,"getPicture"],[3,"Type","person_id"]],template:function(o,i){1&o&&(e.YNc(0,oo,2,0,"div",0),e.YNc(1,lo,116,28,"div",1)),2&o&&(e.Q6J("ngIf",!i.dataFetch),e.xp6(1),e.Q6J("ngIf",i.dataFetch))},directives:[c.O5,x.Hq,b.H,N._L,Ye.V,I.jx,E.xf,E.x4,$e,Ke.M,eo.v],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:25vh}.btn-circle[_ngcontent-%COMP%]{width:40px;height:40px;padding:6px 0;border-radius:50%;font-size:12px}.btn-circle1[_ngcontent-%COMP%]{width:30px;height:30px;padding:0;border-radius:50%;font-size:12px}.icofont[_ngcontent-%COMP%]{line-height:normal}"]}),t})(),data:{title:"Employee Info",breadcrumb:"Employee Info"}},{path:"addNew",component:D,data:{title:"New Employees",breadcrumb:"New Employees"}}];let po=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(ao)],Z.Bz]}),t})();var co=d(51361),so=d(83538),mo=d(58233);let uo=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[h.Pl,{provide:y.WI,useValue:{}},{provide:y.so,useValue:{}}],imports:[[c.ez,co.m,h.O,so.fx.forRoot(),mo.xD,F.yI.forRoot(),po]]}),t})()},4426:(S,T,d)=>{d.d(T,{Y:()=>n});var c=d(5e3);const Z=d(35226);let n=(()=>{class e{constructor(){this.swalWithBootstrapButtons=Z.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1})}showSuccessMessage(s,u){this.swalWithBootstrapButtons.fire(s,u,"success")}showErrorMessage(s,u){this.swalWithBootstrapButtons.fire(s,u,"error")}showWarningMessage(s,u){this.swalWithBootstrapButtons.fire(s,u,"warning")}showConfirmDialog(){return this.swalWithBootstrapButtons.fire({title:"Are you sure, you want to delete?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0})}showDeleteConfirmDialog(){return this.swalWithBootstrapButtons.fire({title:"Are you sure, you want to delete?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0})}showUpdateConfirmDialog(){return this.swalWithBootstrapButtons.fire({title:"Are you sure, you want to update?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!",reverseButtons:!0})}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);